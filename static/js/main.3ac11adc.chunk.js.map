{"version":3,"sources":["AppCss.js","i18n/CustomBackend.js","i18n/i18n.js","components/Button/ButtonCss.js","components/Button/Button.js","components/Modal/ModalCss.js","components/Modal/Modal.js","components/Wrapper/Wrapper.js","components/Navigation/NavigationCss.js","components/Clock/ClockBoxCss.js","components/Clock/Timer.js","Context/index.js","components/Clock/ClockBox.js","components/Navigation/Navigation.js","components/LoadingIndicator/LoadingIndicator.js","components/ToggleableList/ToggleableList.js","components/SuspenseErrorBoundary/SuspenseErrorBoundary.js","utils/theme.js","subpages/Budget/BudgetCss.js","data/fetch/budget.fetch.js","data/fetch/common.fetch.js","data/fetch/index.js","subpages/Budget/BudgetContext/BudgetContext.js","subpages/Budget/components/BudgetSelector/BudgetSelector.js","subpages/Budget/components/BudgetTransactionList/BudgetTransactionListCss.js","utils/index.js","subpages/Budget/components/TransactionItem/TransactionItem.js","subpages/Budget/components/Forms/Templates/InputTemplatesCss.js","subpages/Budget/components/Forms/Templates/InputTemplates.js","subpages/Budget/components/Forms/AddTransactionFormView/AddTransactionForm.js","subpages/Budget/components/Forms/AddTransactionFormView/AddTransactionFormView.js","subpages/Budget/components/Forms/AddBudgetFormView/AddBudgetForm.js","subpages/Budget/components/Forms/AddBudgetFormView/AddBudgetFormView.js","subpages/Budget/components/Forms/AddCategoryFormView/AddCategoryForm.js","subpages/Budget/components/Forms/AddCategoryFormView/AddCategoryFormView.js","subpages/Budget/components/BudgetCategoryList/BudgetCategoryListCss.js","subpages/Budget/components/BudgetCategoryList/ParentCategory.js","subpages/Budget/components/BudgetCategoryList/CategoryItem.js","subpages/Budget/components/BudgetCategoryList/BudgetCategoryList.js","data/actions/budgetActions.js","subpages/Budget/components/BudgetTransactionList/BudgetTransactionList.js","subpages/Budget/components/SelectedTransactionModal/SelectedTransactionModal.js","subpages/Budget/Budget.js","App.js","reportWebVitals.js","data/reducers/budgetReducer.js","data/reducers/commonReducer.js","data/reducers/index.js","data/middlewares/promise.js","data/middlewares/notifications.js","index.js","data/store.js","data/constants/index.js","data/constants/budgetConstants.js"],"names":["createGlobalStyle","normalize","theme","colors","gray","light","CustomBackend","services","options","language","namespace","callback","loadPath","this","payload","parseLoadPayload","lng","ns","url","interpolator","interpolate","loadUrl","ajax","data","xhr","status","ret","err","parse","e","Backend","token","id","i18n","use","LanguageDetector","initReactI18next","init","defaultLanguage","otherLanguages","fallbackLng","debug","saveMissing","backend","addPath","crossDomain","JSON","result","terms","reduce","acc","item","term","translation","content","parsePayload","key","api_token","stringify","interpolation","escapeValue","RootButton","styled","button","primary","react_default","logo","pink","normal","props","to","onClick","type","InlineButton","RegularButton","background","spacing","xs","Button","variant","children","Component","useMemo","propType","PropTypes","oneOf","Wrapper","aside","Content","div","isStatic","dark","CloseIcon","Modal","history","useHistory","handleClose","goBack","createPortal","stopPropagation","document","querySelector","Header","header","med","isTabletOrMobile","List","ul","NavigationWrapper","NavLi","li","Clock","section","IMG","isDay","TimerText","h2","Time","current","useState","date","setDate","useEffect","timer","setInterval","Date","clearInterval","Timer","isBigScreen","time","toLocaleTimeString","substring","Context","createContext","Provider","minute","getUTCMinutes","setIsDay","useMediaQuery","minDeviceWidth","maxWidth","isPortrait","orientation","checkTime","navigator","geolocation","getCurrentPosition","position","sunRise","getSunrise","coords","latitude","longitude","getTime","sunSet","getSunset","currentTime","ContextValue","value","ClockBox","useContext","className","size","Navigation","items","Languages","t","useTranslation","map","Root","LoadingIndicator","Item","onClickHandler","isActive","Trigger","ToggleableList","clickRef","selectedItem","setSelectedItem","ErrorFallback","resetErrorBoundary","role","SuspenseErrorBoundary","queryClient","useQueryClient","a","refetchQueries","FallbackComponent","onReset","Suspense","fallback","sm","xl","darker","green","red","Grid","apiURL","fetchBudget","baseURL","fetch","response","json","fetchAllBudgets","fetchBudgetedCategories","addTransaction","budgetId","method","body","headers","addBudgetedCategory","addParentCategory","addBudget","deleteTransaction","transactionId","fetchAllCategories","addCategory","bud","budget","common","monthNames","BudgetContext","ContextProvider","month","getMonth","toString","Label","selectedBudget","setSelectedBudget","invalidateQueries","BudgetSelector","useQuery","API","label","name","onChange","ListItem","vertical","formatCurrency","number","Number","Intl","NumberFormat","style","currency","format","formatDate","string","DateTimeFormat","TransactionItem","transactions","allCategories","selected","display","flexDirection","justifyContent","description","WrappedItem","transaction","textDecoration","color","mutation","useMutation","onSuccess","find","category","categoryId","amount","event","preventDefault","mutate","InputWrapper","CheckboxWrapper","Input","input","meta","fieldType","step","placeholder","disabled","defaultValue","error","touched","Select","initialValue","initialvalue","required","undefined","AddTransactionForm","onSubmit","noop","categories","groupedCategoriesBy","groupedCategoriesByParentName","groupBy","categoryItems","Object","entries","parentName","render","handleSubmit","form","submitting","pristine","values","validate","component","parseFloat","marginRight","reset","AddTransactionFormView","AddBudgetForm","AddBudgetFormView","budgets","budgetsMutation","lastBudgetId","parseInt","length","totalAmount","AddCategoryForm","selectedBudgetId","parentCategoryOprions","parentCategory","filter","index","array","findIndex","budgetsOptions","newParentCategory","budgeted","AddCategoryFormView","categoryMutation","budgetedCategoryMutation","parentCategoryMutation","lastcategoryId","lastParentcategoryId","Math","max","apply","parentCategoryId","newParentCategoryName","Category","ParentCategory","CategoryItem","CategoryAmount","span","negative","categoryLvalue","parentCategoryTransactions","spentOnParentCategory","amountValue","spentOnCategory","total","connect","selectCategory","SET_SELECTED_CATEGORY_ID","handleClickParentCategoryRef","useRef","budgetisFetching","isFetching","budgetedCategoriesisFetching","budgetedCategories","allCategoriesisFetching","handleClearCategorySelect","useCallback","handleSelectOtherCategory","categoriesFilteredByBudget","BudgetedCategoriesByParent","listItems","budgetedCategory","totalSpent","restToSpent","amountTaken","categoryExpenses","CategoryId","notBudgetedTransactions","notBudgetedExpenses","availableForRestCategories","state","selectedCategory","SelectedCategoryId","selectedBudgetCategories","filteredBySelectedCategory","some","groupedTransactions","getUTCDate","SelectedTransactionModal","location","useLocation","selectedTransactionId","pathname","lastIndexOf","selectedTransaction","Budget","path","App","changeLanguage","exact","toast","configure","QueryClient","defaultOptions","queries","suspense","RootApp","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","action","loadingState","rootReducer","combineReducers","promiseMiddleware","next","promise","rest","SUCCESS","REQUEST","FALIURE","catch","notificationsMiddleware","messege","test","success","store","preloadedState","middlewares","enhancers","applyMiddleware","composedEnhancers","composeWithDevTools","createStore","configureStore","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3ac11adc.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\nimport { normalize } from 'styled-normalize';\r\n\r\nexport default createGlobalStyle`\r\n${normalize}\r\n  body{\r\n    background-color: ${({ theme }) => theme.colors.gray.light};\r\n  }\r\n  ul{\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n`;\r\n","import Backend from 'i18next-xhr-backend';\r\n\r\nclass CustomBackend extends Backend {\r\n  constructor(services, options = {}) {\r\n    super(services, options);\r\n  }\r\n\r\n  read(language, namespace, callback) {\r\n    let loadPath = this.options.loadPath;\r\n    const payload = this.options.parseLoadPayload({\r\n      lng: language,\r\n      ns: namespace,\r\n    });\r\n\r\n    if (typeof this.options.loadPath === 'function') {\r\n      loadPath = this.options.loadPath([language], [namespace]);\r\n    }\r\n\r\n    const url = this.services.interpolator.interpolate(loadPath, {\r\n      lng: language,\r\n      ns: namespace,\r\n    });\r\n\r\n    this.loadUrl(url, callback, payload);\r\n  }\r\n\r\n  loadUrl(url, callback, payload) {\r\n    this.options.ajax(\r\n      url,\r\n      this.options,\r\n      (data, xhr) => {\r\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true /* retry */);\r\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false /* no retry */);\r\n\r\n        let ret;\r\n        let err;\r\n        try {\r\n          ret = this.options.parse(data, url);\r\n        } catch (e) {\r\n          err = 'failed parsing ' + url + ' to json';\r\n        }\r\n        if (err) return callback(err, false);\r\n        callback(null, ret);\r\n      },\r\n      payload\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomBackend;\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport CustomBackend from './CustomBackend';\r\n\r\nconst token = '9dccaa30094cac3083942007b448b227';\r\nconst id = '440319';\r\n\r\ni18n\r\n\r\n  .use(CustomBackend)\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    defaultLanguage: 'en',\r\n    otherLanguages: ['pl'],\r\n    fallbackLng: 'en',\r\n    debug: true,\r\n    saveMissing: true,\r\n    backend: {\r\n      loadPath: 'https://cors-anywhere.herokuapp.com/https://api.poeditor.com/v2/terms/list',\r\n      addPath: 'https://cors-anywhere.herokuapp.com/https://api.poeditor.com/v2/terms/add',\r\n      crossDomain: true,\r\n      parse: (data) => {\r\n        const parsedData = JSON.parse(data);\r\n        const terms = parsedData.result.terms.reduce((acc, item) => {\r\n          acc[item.term] = item.translation.content || item.term;\r\n\r\n          return acc;\r\n        }, {});\r\n\r\n        return terms;\r\n      },\r\n      parsePayload: (namespace, key) => {\r\n        if (key === '_t') return;\r\n\r\n        const data = [\r\n          {\r\n            term: key,\r\n          },\r\n        ];\r\n        const payload = {\r\n          api_token: token,\r\n          data: JSON.stringify(data),\r\n          id,\r\n        };\r\n\r\n        return payload;\r\n      },\r\n      parseLoadPayload: ({ lng }) => {\r\n        const payload = {\r\n          api_token: token,\r\n          language: lng,\r\n          id,\r\n        };\r\n\r\n        return payload;\r\n      },\r\n    },\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    },\r\n  });\r\n\r\nexport default i18n;\r\n","import styled from 'styled-components';\r\n\r\nexport const RootButton = styled.button`\r\n  color: ${({ theme: { colors }, primary }) => (primary ? colors.react_default.logo : colors.pink.normal)};\r\n  cursor: inherit;\r\n  border: none;\r\n  background-color: ${(props) => (props.to || props.onClick || props.type === 'submit' ? 'pointer' : 'default')};\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\nexport const InlineButton = styled(RootButton)`\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\nexport const RegularButton = styled(RootButton)`\r\n  background: ${({ theme, primary }) => (primary ? theme.colors.react_default.background : theme.colors.gray.light)};\r\n  margin: ${({ theme }) => `${theme.spacing.xs / 2}px`};\r\n  padding: ${({ theme }) => `${theme.spacing.xs / 2}px ${theme.spacing.xs}px`};\r\n  border: ${({ theme }) => `2px solid ${theme.colors.react_default.logo}`};\r\n  border-radius: 4px;\r\n  box-shadow: 1px 1px 5px 1px darkgray;\r\n`;\r\n","import React, { Fragment, useMemo } from 'react';\r\nimport { RegularButton, InlineButton } from './ButtonCss';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Button({ variant, children, ...props }) {\r\n  const { to } = props;\r\n  const Component = useMemo(() => {\r\n    switch (variant) {\r\n      case 'inline':\r\n        return InlineButton;\r\n      case 'regular':\r\n        return RegularButton;\r\n      default:\r\n        return RegularButton;\r\n    }\r\n  }, [variant]);\r\n\r\n  const content = useMemo(() => <Component {...props}>{children}</Component>, [props, children]);\r\n\r\n  return to ? <Link {...props}>{content}</Link> : <Fragment>{content}</Fragment>;\r\n}\r\n\r\nButton.propType = {\r\n  variant: PropTypes.oneOf(['inline', 'regular']),\r\n};\r\n\r\nexport default Button;\r\n","import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.aside`\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 150;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  background: #fff;\r\n  position: absolute;\r\n  margin: auto;\r\n  width: ${({ isStatic }) => (isStatic ? '250px' : 'fit-content')};\r\n  height: ${({ isStatic }) => (isStatic ? '310px' : 'fit-content')};\r\n  box-shadow: ${({ theme }) => `0 5px 10px 2px ${theme.colors.gray.dark}`};\r\n  padding: 25px 50px;\r\n  text-align: center;\r\n  border-radius: 15px;\r\n`;\r\n\r\nexport const CloseIcon = styled.div`\r\n  position: absolute;\r\n  right: 7px;\r\n  top: 5px;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n`;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Wrapper, Content, CloseIcon } from './ModalCss';\r\n\r\nexport default function Modal({ children, isStatic }) {\r\n  const history = useHistory();\r\n  const handleClose = (e) => {\r\n    history.goBack();\r\n  };\r\n  return createPortal(\r\n    <Wrapper onClick={handleClose}>\r\n      <Content isStatic={isStatic} onClick={(e) => e.stopPropagation()}>\r\n        <CloseIcon onClick={handleClose}>&times;</CloseIcon>\r\n        {children}\r\n      </Content>\r\n    </Wrapper>,\r\n    document.querySelector('#modal')\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  max-width: 960px;\r\n  padding: 0 10px;\r\n`;\r\n\r\nexport default Wrapper;\r\n","import styled from 'styled-components';\r\nimport { Wrapper } from 'components/Wrapper';\r\nexport const Header = styled.header`\r\n  background-color: ${({ theme }) => theme.colors.gray.light};\r\n  display: flex;\r\n  padding: ${({ theme }) => theme.spacing.med}px 0;\r\n  justify-content: space-between;\r\n  box-shadow: 0px 0px 12px 4px darkgray;\r\n  * {\r\n    font-size: ${({ isTabletOrMobile }) => (isTabletOrMobile ? '11px' : '16px')};\r\n    transition: 0.3s ease;\r\n  }\r\n`;\r\n\r\nexport const List = styled.ul`\r\n  display: flex;\r\n`;\r\nexport const NavigationWrapper = styled(Wrapper)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const NavLi = styled.li`\r\n  margin: ${({ isTabletOrMobile }) => (isTabletOrMobile ? '0 0px 0 16px' : '0 16px')};\r\n  z-index: 10;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Clock = styled.section`\r\n  box-shadow: 3px 1px 12px 1px lightgray;\r\n  content: '';\r\n  display: block;\r\n  position: fixed;\r\n  top: ${({ isTabletOrMobile }) => (isTabletOrMobile ? 'calc(-4vw - 2px)' : 'calc(-4vw + 5px)')};\r\n  left: calc(45vw - 45px);\r\n  width: 6vw;\r\n  height: 6vw;\r\n\r\n  border: calc(0.9vw + 40px) solid;\r\n  border-color: transparent ${({ theme }) => theme.colors.gray.light} ${({ theme }) => theme.colors.gray.light}\r\n    transparent;\r\n  border-radius: 10px;\r\n  transform: rotate(45deg);\r\n\r\n  &:before {\r\n    content: '';\r\n\r\n    position: fixed;\r\n    top: calc(-21.7px);\r\n    left: calc(-21.7px);\r\n    width: 4.5vw;\r\n    height: 4.5vw;\r\n    border: calc(0.9vw + 20px) solid;\r\n    border-color: transparent ${({ theme }) => theme.colors.gray.dark} ${({ theme }) => theme.colors.gray.dark}\r\n      transparent;\r\n    border-radius: 40%;\r\n  }\r\n`;\r\n\r\nexport const IMG = styled.section`\r\n  box-shadow: 23px 25px 60px 30px ${({ isDay }) => (isDay ? 'orange' : 'blue')};\r\n  display: block;\r\n  position: fixed;\r\n  top: ${({ isTabletOrMobile }) => (isTabletOrMobile ? '22px' : '31px')};\r\n  left: calc(48.9vw - 30px);\r\n\r\n  .icon {\r\n    width: calc(8px + ${({ isDay }) => (isDay ? '3.2vw' : '1.9vw')});\r\n    position: absolute;\r\n    top: ${({ isDay }) => (isDay ? '8px' : '12px')};\r\n    left: calc(22px - ${({ isDay }) => (isDay ? '1.7vw' : '1vw')});\r\n    animation: ${({ isDay }) => (isDay ? 'spin' : 'cradle')} infinite 5s linear;\r\n  }\r\n  @keyframes cradle {\r\n    from {\r\n      transform: rotate(60deg);\r\n    }\r\n    50% {\r\n      transform: rotate(-10deg);\r\n    }\r\n    to {\r\n      transform: rotate(60deg);\r\n    }\r\n  }\r\n\r\n  @keyframes spin {\r\n    from {\r\n      transform: rotate(0deg);\r\n    }\r\n    to {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nfunction Timer({ isTabletOrMobile, isBigScreen }) {\r\n  const time = Time(new Date());\r\n  return (\r\n    <TimerText isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile}>\r\n      {time.toLocaleTimeString().substring(0, 5)}\r\n    </TimerText>\r\n  );\r\n}\r\nconst TimerText = styled.h2`\r\n  position: fixed;\r\n  z-index: 15;\r\n  margin-top: calc(32px + 1.1vw);\r\n  background: transparent;\r\n  font-family: 'arial';\r\n  left: ${({ isTabletOrMobile }) => (isTabletOrMobile ? 'calc(49vw - 20px)' : 'calc(49vw - 27px)')};\r\n`;\r\n\r\nconst Time = (current) => {\r\n  const [date, setDate] = useState(current);\r\n\r\n  useEffect(() => {\r\n    let timer = setInterval(() => tick(), 10000);\r\n    return function clear() {\r\n      clearInterval(timer);\r\n    };\r\n  }, []);\r\n\r\n  function tick() {\r\n    setDate(new Date());\r\n  }\r\n\r\n  return date;\r\n};\r\n\r\nexport default Timer;\r\n","import { createContext, useEffect, useState } from 'react';\r\nimport { getSunrise, getSunset } from 'sunrise-sunset-js';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nexport const Context = createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n  const minute = new Date().getUTCMinutes();\r\n  const [isDay, setIsDay] = useState(false);\r\n  const isBigScreen = useMediaQuery({ minDeviceWidth: 1400 });\r\n  const isTabletOrMobile = useMediaQuery({ maxWidth: 850 });\r\n  const isPortrait = useMediaQuery({ orientation: 'portrait' });\r\n  useEffect(() => {\r\n    checkTime();\r\n  }, [minute]);\r\n\r\n  const checkTime = () => {\r\n    navigator.geolocation.getCurrentPosition(function (position) {\r\n      const sunRise = getSunrise(position.coords.latitude, position.coords.longitude).getTime();\r\n      const sunSet = getSunset(position.coords.latitude, position.coords.longitude).getTime();\r\n      const currentTime = new Date().getTime();\r\n      setIsDay(currentTime > sunRise && currentTime < sunSet ? true : false);\r\n    });\r\n  };\r\n  const ContextValue = {\r\n    isDay,\r\n    isBigScreen,\r\n    isTabletOrMobile,\r\n    isPortrait,\r\n  };\r\n\r\n  return <Context.Provider value={ContextValue}>{children}</Context.Provider>;\r\n};\r\n\r\nexport default Provider;\r\n","import React, { useContext } from 'react';\r\nimport { Clock, IMG } from './ClockBoxCss';\r\nimport Timer from './Timer';\r\nimport { HiSun } from 'react-icons/hi';\r\nimport { FaMoon } from 'react-icons/fa';\r\nimport { Context } from 'Context';\r\nfunction ClockBox() {\r\n  const { isDay, isBigScreen, isTabletOrMobile } = useContext(Context);\r\n  return (\r\n    <>\r\n      <IMG isDay={isDay} isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile}>\r\n        <Clock isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile} />\r\n        {isDay ? <HiSun className=\"icon\" size={40} /> : <FaMoon className=\"icon\" size={25} />}\r\n        <Timer isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile} />\r\n      </IMG>\r\n    </>\r\n  );\r\n}\r\nexport default ClockBox;\r\n","import React, { useContext } from 'react';\r\nimport { Header, List, NavigationWrapper, NavLi } from './NavigationCss';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { Button } from 'components';\r\nimport { Clockbox } from 'components/Clock';\r\nimport Provider, { Context } from 'Context';\r\nfunction Navigation({ items = [], Languages }) {\r\n  const { t } = useTranslation();\r\n  const { isBigScreen, isTabletOrMobile } = useContext(Context);\r\n\r\n  return (\r\n    <>\r\n      <Provider>\r\n        <Header isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile}>\r\n          <NavigationWrapper>\r\n            <List>\r\n              {items.map((item) => (\r\n                <NavLi key={item.to} isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile}>\r\n                  <Button primary=\"true\" to={item.to}>\r\n                    {t(item.content)}\r\n                  </Button>\r\n                </NavLi>\r\n              ))}\r\n            </List>\r\n            {Languages}\r\n          </NavigationWrapper>\r\n          <Clockbox />\r\n        </Header>\r\n      </Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nNavigation.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default Navigation;\r\n","import styled from 'styled-components';\r\n\r\nconst Root = styled.div`\r\n  position: absolute;\r\n  width: 150px;\r\n  height: 150px;\r\n  margin: 40vh 0 0 40vw;\r\n`;\r\nconst Content = styled.div`\r\n  content: ' ';\r\n  display: block;\r\n  border-radius: 50%;\r\n  width: 0;\r\n  height: 0;\r\n\r\n  box-sizing: border-box;\r\n  border: 72px solid ${({ theme }) => theme.colors.react_default.logo};\r\n  border-color: ${({ theme }) => theme.colors.react_default.logo} transparent\r\n    ${({ theme }) => theme.colors.react_default.logo} transparent;\r\n  animation: hourglass 1.2s infinite;\r\n\r\n  @keyframes hourglass {\r\n    0% {\r\n      transform: rotate(0);\r\n      animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\r\n    }\r\n    50% {\r\n      transform: rotate(900deg);\r\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\r\n    }\r\n    100% {\r\n      transform: rotate(1800deg);\r\n    }\r\n  }\r\n`;\r\n\r\nfunction LoadingIndicator() {\r\n  return (\r\n    <Root>\r\n      <Content />\r\n    </Root>\r\n  );\r\n}\r\n\r\nexport default LoadingIndicator;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst Item = ({ item, onClickHandler, isActive }) => {\r\n  return (\r\n    <div>\r\n      <item.Trigger onClick={onClickHandler} />\r\n      {isActive && item.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function ToggleableList({ items, clickRef }) {\r\n  const [selectedItem, setSelectedItem] = useState();\r\n\r\n  useEffect(() => {\r\n    clickRef.current = setSelectedItem;\r\n  }, [clickRef, selectedItem]);\r\n  return (\r\n    <>\r\n      {items.map((item) => (\r\n        <Item key={item.id} item={item} onClickHandler={setSelectedItem} isActive={selectedItem === item.id} />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { LoadingIndicator, Button } from 'components';\r\nimport { useQueryClient } from 'react-query';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\n\r\nfunction ErrorFallback({ resetErrorBoundary }) {\r\n  return (\r\n    <div role=\"alert\">\r\n      <div>\r\n        Something went wrong.\r\n        <Button onClick={resetErrorBoundary}>My Try Again!</Button>\r\n      </div>\r\n      <button onClick={resetErrorBoundary}>Try again</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function SuspenseErrorBoundary({ ...props }) {\r\n  const queryClient = useQueryClient();\r\n\r\n  async function Reset() {\r\n    await queryClient.refetchQueries();\r\n  }\r\n  return (\r\n    <ErrorBoundary FallbackComponent={ErrorFallback} onReset={Reset}>\r\n      <React.Suspense fallback={<LoadingIndicator />}>{props.children}</React.Suspense>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n","const theme = {\r\n  spacing: {\r\n    sm: 5,\r\n    med: 10,\r\n    xl: 25,\r\n  },\r\n  colors: {\r\n    gray: {\r\n      light: 'rgb(234,234,234)',\r\n      normal: 'rgb(222,222,222)',\r\n      dark: 'rgb(210,210,210)',\r\n      darker: 'rgb(180,180,180)',\r\n    },\r\n    green: {\r\n      normal: 'rgb(85,155,0)',\r\n    },\r\n    red: {\r\n      normal: 'rgb(165,61,54)',\r\n    },\r\n    pink: {\r\n      normal: 'rgb(219,110,149)',\r\n    },\r\n    react_default: {\r\n      background: 'rgb(40,44,52)',\r\n      logo: 'rgb(0,200,252)',\r\n    },\r\n  },\r\n};\r\nexport default theme;\r\n","import styled from 'styled-components';\r\n\r\nexport const Grid = styled.div`\r\n  display: flex;\r\n  margin-top: 135px;\r\n  section:nth-child(1) {\r\n    flex: 9;\r\n    margin-left: 4vw;\r\n  }\r\n  section:nth-child(2) {\r\n    flex: 2;\r\n  }\r\n  section:nth-child(3) {\r\n    flex: 17;\r\n    margin-right: 4vw;\r\n  }\r\n  * {\r\n    font-size: ${({ isTabletOrMobile }) => (isTabletOrMobile ? '12px' : '16px')};\r\n    transition: 0.3s ease;\r\n  }\r\n`;\r\n","const apiURL = 'https://homebudget1data.herokuapp.com';\r\nexport const fetchBudget = async (id) => {\r\n  const baseURL = `${apiURL}/budgets/${id}/?_embed=transactions`;\r\n  const response = await fetch(baseURL);\r\n\r\n  return await response.json();\r\n};\r\nexport const fetchAllBudgets = async () => {\r\n  const baseURL = `${apiURL}/budgets`;\r\n  const response = await fetch(baseURL);\r\n\r\n  return await response.json();\r\n};\r\nexport const fetchBudgetedCategories = async () => {\r\n  const baseURL = `${apiURL}/budgetCategories`;\r\n\r\n  const response = await fetch(baseURL);\r\n\r\n  return await response.json();\r\n};\r\n\r\nexport const addTransaction = async ({ budgetId, data }) => {\r\n  const baseURL = `${apiURL}/budgets/${budgetId}/transactions`;\r\n  const response = await fetch(baseURL, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n  return await response.json();\r\n};\r\n\r\nexport const addBudgetedCategory = async ({ data }) => {\r\n  const baseURL = `${apiURL}/budgetCategories`;\r\n  const response = await fetch(baseURL, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n  return await response.json();\r\n};\r\nexport const addParentCategory = async ({ data }) => {\r\n  const baseURL = `${apiURL}/parentCategories`;\r\n  const response = await fetch(baseURL, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n  return await response.json();\r\n};\r\n\r\nexport const addBudget = ({ data }) => {\r\n  const baseURL = `${apiURL}/budgets`;\r\n  const promise = fetch(baseURL, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n  return promise;\r\n};\r\n\r\nexport const deleteTransaction = async ({ transactionId }) => {\r\n  const baseURL = `${apiURL}/transactions/${transactionId}`;\r\n  const response = await fetch(baseURL, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n  return await response.json();\r\n};\r\n","const apiURL = 'https://homebudget1data.herokuapp.com';\r\n\r\nexport const fetchAllCategories = async () => {\r\n  const response = await fetch(`${apiURL}/categories/?_expand=parentCategory`);\r\n\r\n  return await response.json();\r\n};\r\n\r\nexport const addCategory = async ({ data }) => {\r\n  const response = await fetch(`${apiURL}/categories/?_expand=parentCategory`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-type': 'application/json',\r\n    },\r\n  });\r\n\r\n  return await response.json();\r\n};\r\n","import * as budget from './budget.fetch';\r\nimport * as common from './common.fetch';\r\n\r\nconst bud = {\r\n  budget,\r\n  common,\r\n};\r\nexport default bud;\r\n","import React, { createContext, useEffect, useState } from 'react';\r\nimport { useQueryClient } from 'react-query';\r\n\r\nconst Context = createContext({});\r\n\r\nconst monthNames = [\r\n  'January',\r\n  'February',\r\n  'March',\r\n  'April',\r\n  'May',\r\n  'June',\r\n  'July',\r\n  'August',\r\n  'September',\r\n  'October',\r\n  'November',\r\n  'December',\r\n];\r\n\r\nconst ContextProvider = ({ children }) => {\r\n  const month = new Date().getMonth() - 1;\r\n  const [selectedBudget, setSelectedBudget] = useState({\r\n    value: month.toString(),\r\n    Label: monthNames[month],\r\n  });\r\n  const queryClient = useQueryClient();\r\n  useEffect(() => {\r\n    queryClient.invalidateQueries();\r\n  }, [queryClient, selectedBudget]);\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        selectedBudget,\r\n        setSelectedBudget,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  );\r\n};\r\nconst BudgetContext = {\r\n  Context,\r\n  ContextProvider,\r\n};\r\n\r\nexport default BudgetContext;\r\n","import React, { useContext } from 'react';\r\nimport Select from 'react-select';\r\nimport { useQuery } from 'react-query';\r\nimport API from 'data/fetch';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\nconst BudgetSelector = () => {\r\n  const { setSelectedBudget } = useContext(BudgetContext.Context);\r\n\r\n  const { data: budgets } = useQuery('budgets', () => API.budget.fetchAllBudgets());\r\n  const options = budgets.map((budget) => ({\r\n    value: budget.id,\r\n    label: budget.name,\r\n  }));\r\n\r\n  return <Select options={options} onChange={setSelectedBudget} />;\r\n};\r\nexport default BudgetSelector;\r\n","import styled from 'styled-components';\r\n\r\nexport const List = styled.ul`\r\n  > li + li {\r\n    margin-top: ${({ theme }) => theme.spacing.sm}px;\r\n  }\r\n`;\r\nexport const ListItem = styled.li`\r\n  border: 1px solid ${({ theme }) => theme.colors.gray.dark};\r\n  padding: ${({ theme }) => theme.spacing.sm}px;\r\n  display: flex;\r\n  flex-direction: ${({ vertical }) => (vertical ? 'column' : 'row')};\r\n  justify-content: space-between;\r\n  > * {\r\n    border: 1px solid ${({ vertical, theme }) => (vertical ? theme.colors.gray.dark : 'none')};\r\n    padding: ${({ vertical }) => (vertical ? '10px' : '1px')};\r\n  }\r\n  > *:nth-child(1) {\r\n    flex: 8;\r\n  }\r\n  > *:nth-child(2) {\r\n    flex: 4;\r\n  }\r\n  > *:nth-child(3) {\r\n    flex: 6;\r\n  }\r\n  > *:nth-child(4) {\r\n    flex: 3;\r\n  }\r\n  > *:nth-child(5) {\r\n    flex: 1;\r\n    flex-direction: row;\r\n    > * {\r\n      background-color: rgb(250, 120, 0, 0.3);\r\n      border-radius: 50%;\r\n      :hover {\r\n        background-color: rgb(250, 40, 0, 0.7);\r\n      }\r\n    }\r\n    margin: auto;\r\n    height: fit-content;\r\n  }\r\n`;\r\n","export const formatCurrency = (value) => {\r\n  const number = Number(value);\r\n\r\n  return new Intl.NumberFormat('pl', {\r\n    style: 'currency',\r\n    currency: 'PLN',\r\n  }).format(number);\r\n};\r\n\r\nexport const formatDate = (string) => {\r\n  const date = new Date(string);\r\n\r\n  return new Intl.DateTimeFormat(['pl']).format(date);\r\n};\r\n","import React, { useMemo, useContext } from 'react';\r\nimport { useMutation, useQueryClient } from 'react-query';\r\nimport { ListItem } from '../BudgetTransactionList/BudgetTransactionListCss';\r\nimport { formatCurrency, formatDate } from 'utils';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'components';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\nimport API from 'data/fetch';\r\nexport default function TransactionItem({ transactions, allCategories, ...props }) {\r\n  const { selected } = props;\r\n  return selected ? (\r\n    <ul\r\n      style={{\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n      }}\r\n    >\r\n      <ListItem key={transactions.description} vertical={selected}>\r\n        <div>Description</div>\r\n        <div>Amount</div>\r\n        <div>Date</div>\r\n        <div>Category</div>\r\n      </ListItem>\r\n      <WrappedItem key={transactions.id} transaction={transactions} allCategories={allCategories} vertical={selected} />\r\n    </ul>\r\n  ) : (\r\n    <ul>\r\n      {transactions.map((transaction) => (\r\n        <Link\r\n          key={transaction.id}\r\n          to={'/budget/transactions/' + transaction.id}\r\n          style={{ textDecoration: 'none', color: 'black' }}\r\n        >\r\n          <WrappedItem key={transaction.id} transaction={transaction} allCategories={allCategories} />\r\n        </Link>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nfunction WrappedItem({ transaction, allCategories, vertical }) {\r\n  const history = useHistory();\r\n\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  const mutation = useMutation(API.budget.deleteTransaction, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['budget', id]);\r\n    },\r\n  });\r\n  const handleDeleteTransaction = () => {\r\n    mutation.mutate({\r\n      transactionId: transactionId,\r\n    });\r\n    if (vertical) {\r\n      history.goBack();\r\n    }\r\n  };\r\n  const name = useMemo(\r\n    () => (allCategories.find((category) => transaction.categoryId === category.id) || {}).name,\r\n    [allCategories, transaction]\r\n  );\r\n  const transactionId = transaction.id;\r\n  return (\r\n    <ListItem vertical={vertical}>\r\n      <div>{transaction.description}</div>\r\n      <div>{formatCurrency(transaction.amount)}</div>\r\n      <div>{formatDate(transaction.date)}</div>\r\n      <div>{name ? name : 'Uncategorized'}</div>\r\n      <div onClick={(event) => event.preventDefault()}>\r\n        {vertical ? 'Delete transaction ' : null}\r\n        <Button variant={'inline'} onClick={handleDeleteTransaction}>\r\n          &times;\r\n        </Button>\r\n      </div>\r\n    </ListItem>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\nexport const InputWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  * {\r\n    :focus {\r\n      outline: none;\r\n      background-color: ivory;\r\n    }\r\n    :nth-child(2) {\r\n      padding: 6px 7px;\r\n      border: 1px solid ${({ theme }) => theme.colors.gray.light};\r\n      box-sizing: border-box;\r\n      box-shadow: -2px 4px 8px rgba(110, 120, 140, 0.1);\r\n      border-radius: 25px;\r\n      width: 250px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CheckboxWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n","import { InputWrapper } from './InputTemplatesCss';\r\n\r\nexport function Input({ input, meta, fieldType = 'text', step, placeholder, description, disabled }) {\r\n  return (\r\n    <InputWrapper>\r\n      <label>{description ? description : fieldType}</label>\r\n\r\n      <input\r\n        {...input}\r\n        step={step}\r\n        disabled={disabled}\r\n        defaultValue={'Reset'}\r\n        type={disabled ? 'clear' : fieldType}\r\n        placeholder={placeholder ? placeholder : fieldType}\r\n      />\r\n      {meta.error && meta.touched && <span>{meta.error}</span>}\r\n    </InputWrapper>\r\n  );\r\n}\r\nexport function Select({ input, meta, options, description, initialValue }) {\r\n  return (\r\n    <InputWrapper>\r\n      <label>{description}</label>\r\n      <select {...input} initialvalue={initialValue}>\r\n        {options}\r\n      </select>\r\n      {meta.error && meta.touched && <span>{meta.error}</span>}\r\n    </InputWrapper>\r\n  );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { groupBy, noop } from 'lodash';\r\nimport { Input, Select } from '../Templates/InputTemplates';\r\nimport { Button } from 'components';\r\n\r\nconst required = (value) => (value ? undefined : 'Required');\r\n\r\nexport default function AddTransactionForm({ onSubmit = noop, categories, groupedCategoriesBy }) {\r\n  const groupedCategoriesByParentName = groupedCategoriesBy ? groupBy(categories, groupedCategoriesBy) : null;\r\n\r\n  const categoryItems = useMemo(\r\n    () =>\r\n      groupedCategoriesByParentName\r\n        ? Object.entries(groupedCategoriesByParentName).map(([parentName, categories]) => (\r\n            <optgroup key={parentName} label={parentName}>\r\n              {categories.map((category) => (\r\n                <option key={category.id} value={category.id}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </optgroup>\r\n          ))\r\n        : categories.map((category) => <option value={category.id}>{category.name}</option>),\r\n    [groupedCategoriesByParentName, categories]\r\n  );\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit, form, submitting, pristine, values }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"description\" fieldType={'Description'} validate={required} component={Input} />\r\n\r\n          <Field\r\n            name=\"amount\"\r\n            validate={required}\r\n            step=\"0.01\"\r\n            fieldType=\"number\"\r\n            parse={(value) => parseFloat(value, 8)}\r\n            placeholder=\"Amount\"\r\n            component={Input}\r\n          />\r\n\r\n          <Field\r\n            name=\"categoryId\"\r\n            component={Select}\r\n            options={categoryItems}\r\n            validate={required}\r\n            description={'Category'}\r\n          />\r\n\r\n          <Field name=\"date\" fieldType={'Date'} validate={required} component={Input} />\r\n\r\n          <div className=\"buttons\">\r\n            <Button\r\n              type=\"button\"\r\n              variant={'inline'}\r\n              style={{ marginRight: '30px' }}\r\n              onClick={form.reset}\r\n              disabled={submitting || pristine}\r\n            >\r\n              Reset\r\n            </Button>\r\n            <Button type=\"submit\" variant={'inline'} primary disabled={submitting}>\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal } from 'components';\r\nimport AddTransactionForm from './AddTransactionForm';\r\nimport API from 'data/fetch';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\n\r\nexport default function AddTransactionFormView() {\r\n  const history = useHistory();\r\n\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n  const { data: budget } = useQuery(['budget', id], () => API.budget.fetchBudget(id));\r\n  const { data: allCategories } = useQuery('allCategories', API.common.fetchAllCategories);\r\n  const queryClient = useQueryClient();\r\n\r\n  const mutation = useMutation(API.budget.addTransaction, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(['budget', id]);\r\n    },\r\n  });\r\n  const handleSubmitAddTransaction = (values) => {\r\n    mutation.mutate({\r\n      budgetId: budget.id,\r\n      data: values,\r\n    });\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <Modal>\r\n      <AddTransactionForm\r\n        categories={allCategories}\r\n        groupedCategoriesBy=\"parentCategory.name\"\r\n        onSubmit={handleSubmitAddTransaction}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { noop } from 'lodash';\r\nimport { Input } from '../Templates/InputTemplates';\r\nimport { Button } from 'components';\r\n\r\nconst required = (value) => (value ? undefined : 'Required');\r\n\r\nexport default function AddBudgetForm({ onSubmit = noop }) {\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit, form, submitting, pristine }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"name\" description={'Budget name'} validate={required} component={Input} />\r\n\r\n          <Field\r\n            name=\"totalAmount\"\r\n            description={'Money amount'}\r\n            validate={required}\r\n            step=\"0.01\"\r\n            fieldType=\"number\"\r\n            parse={(value) => parseFloat(value, 8)}\r\n            placeholder=\"Amount\"\r\n            component={Input}\r\n          />\r\n\r\n          <div className=\"buttons\">\r\n            <Button\r\n              type=\"button\"\r\n              variant={'inline'}\r\n              style={{ marginRight: '30px' }}\r\n              onClick={form.reset}\r\n              disabled={submitting || pristine}\r\n            >\r\n              Reset\r\n            </Button>\r\n            <Button type=\"submit\" variant={'inline'} primary disabled={submitting}>\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal } from 'components';\r\nimport API from 'data/fetch';\r\nimport AddBudgetForm from './AddBudgetForm';\r\n\r\nexport default function AddBudgetFormView() {\r\n  const queryClient = useQueryClient();\r\n  const history = useHistory();\r\n\r\n  const { data: budgets } = useQuery('budgets', () => API.budget.fetchAllBudgets());\r\n  const budgetsMutation = useMutation(API.budget.addBudget, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries('budgets');\r\n    },\r\n  });\r\n  const handleSubmitAddBudget = (values) => {\r\n    const data = {\r\n      id: (lastBudgetId + 1).toString(),\r\n      name: values.name,\r\n      totalAmount: values.totalAmount,\r\n    };\r\n    budgetsMutation.mutate({\r\n      data: data,\r\n    });\r\n    history.goBack();\r\n  };\r\n  const lastBudgetId = useMemo(() => {\r\n    return parseInt(budgets[budgets.length - 1].id);\r\n  }, [budgets]);\r\n\r\n  return (\r\n    <Modal>\r\n      <AddBudgetForm onSubmit={handleSubmitAddBudget} />\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { noop } from 'lodash';\r\nimport { Input, Select } from '../Templates/InputTemplates';\r\nimport { Button } from 'components';\r\nimport { CheckboxWrapper } from '../Templates/InputTemplatesCss';\r\nconst required = (value) => (value ? undefined : 'Required');\r\n\r\nexport default function AddCategoryForm({ onSubmit = noop, categories, budgets, selectedBudgetId }) {\r\n  const parentCategories = useMemo(\r\n    () => (categories ? categories.map((category) => category.parentCategory) : null),\r\n    [categories]\r\n  );\r\n\r\n  const parentCategoryOprions = parentCategories\r\n    .filter((value, index, array) => array.findIndex((t) => t.id === value.id) === index)\r\n    .map((parentCategory) => (\r\n      <option key={parentCategory.id} value={parentCategory.id}>\r\n        {parentCategory.name}\r\n      </option>\r\n    ));\r\n\r\n  const budgetsOptions = useMemo(\r\n    () =>\r\n      typeof budgets.length !== 'undefined'\r\n        ? budgets.map((budget) => (\r\n            <option key={budget.id} value={budget.id}>\r\n              {budget.name}\r\n            </option>\r\n          ))\r\n        : [\r\n            <option value={0}>test</option>,\r\n            <option key={budgets.id} value={budgets.id}>\r\n              {budgets.name}\r\n            </option>,\r\n          ],\r\n\r\n    [budgets]\r\n  );\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit, form, submitting, pristine, values }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <CheckboxWrapper>\r\n            <label>New </label>\r\n            <Field name=\"newParentCategory\" component=\"input\" type=\"checkbox\" />\r\n\r\n            <label>New budgeted category </label>\r\n            <Field name=\"budgeted\" component=\"input\" type=\"checkbox\" />\r\n          </CheckboxWrapper>\r\n\r\n          <Field\r\n            description=\"Budget\"\r\n            name=\"budgetId\"\r\n            fieldType=\"Budget \"\r\n            initialValue={selectedBudgetId}\r\n            options={budgetsOptions}\r\n            component={Select}\r\n          />\r\n          <Field name=\"name\" fieldType=\"Category name \" validate={required} component={Input} />\r\n\r\n          {!values.newParentCategory && [\r\n            <Field\r\n              name=\"parentCategoryId\"\r\n              description=\"Parent category\"\r\n              options={parentCategoryOprions}\r\n              initialValue={'1'}\r\n              component={Select}\r\n            />,\r\n          ]}\r\n          {values.newParentCategory && [\r\n            <Field\r\n              name=\"newParentCategoryName\"\r\n              description=\"New parent category Name\"\r\n              placeholder=\"Name\"\r\n              component={Input}\r\n            />,\r\n          ]}\r\n\r\n          {values.budgeted && [\r\n            <Field\r\n              name=\"budget\"\r\n              validate={required}\r\n              step=\"0.01\"\r\n              fieldType=\"number\"\r\n              description=\"Budget Size \"\r\n              parse={(value) => parseFloat(value, 8)}\r\n              placeholder=\"Amount\"\r\n              component={Input}\r\n            />,\r\n          ]}\r\n\r\n          <div className=\"buttons\">\r\n            <Button\r\n              type=\"button\"\r\n              variant={'inline'}\r\n              style={{ marginRight: '30px' }}\r\n              onClick={form.reset}\r\n              disabled={submitting || pristine}\r\n            >\r\n              Reset\r\n            </Button>\r\n            <Button type=\"submit\" variant={'inline'} primary disabled={submitting}>\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React, { useMemo, useContext } from 'react';\r\nimport { useMutation, useQuery, useQueryClient } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal } from 'components';\r\nimport AddCategoryForm from './AddCategoryForm';\r\nimport API from 'data/fetch';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\n\r\nexport default function AddCategoryFormView() {\r\n  const history = useHistory();\r\n\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n\r\n  const { data: budgets } = useQuery('budgets', () => API.budget.fetchAllBudgets());\r\n  const { data: allCategories } = useQuery('allCategories', API.common.fetchAllCategories);\r\n  const queryClient = useQueryClient();\r\n\r\n  const categoryMutation = useMutation(API.common.addCategory, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries();\r\n    },\r\n  });\r\n  const budgetedCategoryMutation = useMutation(API.budget.addBudgetedCategory);\r\n  const parentCategoryMutation = useMutation(API.budget.addParentCategory);\r\n\r\n  const handleSubmitAddCategory = (values) => {\r\n    if (values.newParentCategory) {\r\n      parentCategoryMutation.mutate({\r\n        data: {\r\n          id: (lastParentcategoryId + 1).toString(),\r\n          name: values.newParentCategoryName,\r\n        },\r\n      });\r\n    }\r\n    if (values.budgeted) {\r\n      budgetedCategoryMutation.mutate({\r\n        data: {\r\n          id: (lastcategoryId + 1).toString(),\r\n          budget: values.budget,\r\n          categoryId: (lastcategoryId + 1).toString(),\r\n          budgetId: values.budgetId.toString(),\r\n        },\r\n      });\r\n    }\r\n    categoryMutation.mutate({\r\n      data: {\r\n        id: (lastcategoryId + 1).toString(),\r\n        name: values.name,\r\n        parentCategoryId: (values.newParentCategory\r\n          ? (parseInt(lastParentcategoryId) + 1).toString()\r\n          : values.parentCategoryId\r\n        ).toString(),\r\n      },\r\n    });\r\n    history.goBack();\r\n  };\r\n\r\n  const lastcategoryId = useMemo(() => {\r\n    return parseInt(allCategories[allCategories.length - 1].id);\r\n  }, [allCategories]);\r\n\r\n  const lastParentcategoryId = useMemo(() => {\r\n    return Math.max.apply(\r\n      Math,\r\n      allCategories.map((category) => {\r\n        return category.parentCategoryId;\r\n      })\r\n    );\r\n  }, [allCategories]);\r\n  return (\r\n    <Modal isStatic>\r\n      <AddCategoryForm\r\n        categories={allCategories}\r\n        budgets={budgets}\r\n        onSubmit={handleSubmitAddCategory}\r\n        selectedBudgetId={id}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Category = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.colors.gray.darker};\r\n  padding: ${({ theme }) => theme.spacing.sm}px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const ParentCategory = styled(Category)`\r\n  background-color: ${({ theme }) => theme.colors.gray.dark};\r\n`;\r\nexport const CategoryItem = styled(Category)`\r\n  background-color: ${({ theme }) => theme.colors.gray.light};\r\n`;\r\nexport const CategoryAmount = styled.span`\r\n  font-weight: 700;\r\n  transition: 0.3s ease;\r\n  color: ${({ theme, negative }) => (negative ? theme.colors.red.normal : theme.colors.green.normal)};\r\n`;\r\n","import React, { useMemo } from 'react';\r\n\r\nimport { ParentCategory as Root, CategoryAmount } from './BudgetCategoryListCss';\r\nimport { formatCurrency } from 'utils';\r\nexport default function ParentCategory({ name, onClick, categories, transactions, amount }) {\r\n  const categoryLvalue = useMemo(() => {\r\n    const budgeted = (() => {\r\n      try {\r\n        return categories.reduce((acc, category) => acc + category.budget, 0);\r\n      } catch (error) {\r\n        return null;\r\n      }\r\n    })();\r\n\r\n    const parentCategoryTransactions = transactions\r\n      ? transactions.filter((transaction) => {\r\n          return categories.find((category) => category.categoryId === transaction.categoryId);\r\n        })\r\n      : 0;\r\n\r\n    const spentOnParentCategory = parentCategoryTransactions\r\n      ? parentCategoryTransactions.reduce((acc, transaction) => acc + transaction.amount, 0)\r\n      : 0;\r\n\r\n    const total = budgeted && spentOnParentCategory !== null ? budgeted - spentOnParentCategory : null;\r\n    return total;\r\n  }, [categories, transactions]);\r\n\r\n  const amountValue = useMemo(() => amount || categoryLvalue, [amount, categoryLvalue]);\r\n\r\n  return (\r\n    <Root onClick={onClick}>\r\n      <span>{name}</span>\r\n      <CategoryAmount negative={amountValue < 0}>{formatCurrency(amountValue)}</CategoryAmount>\r\n    </Root>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { CategoryItem as Root, CategoryAmount } from './BudgetCategoryListCss';\r\nimport { formatCurrency } from 'utils';\r\n\r\nexport default function CategoryItem({ name, item, transactions }) {\r\n  const categoryTransactions = transactions.filter((transaction) => transaction.categoryId === item.id);\r\n\r\n  const spentOnCategory = categoryTransactions.reduce((acc, transaction) => acc + transaction.amount, 0);\r\n\r\n  const total = item.budget - spentOnCategory;\r\n\r\n  return (\r\n    <Root>\r\n      <span>{name}</span>\r\n      <CategoryAmount negative={total < 0}>{formatCurrency(total)}</CategoryAmount>\r\n    </Root>\r\n  );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, useMemo, useCallback, useContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { groupBy, noop } from 'lodash';\r\nimport { ToggleableList } from 'components/ToggleableList';\r\nimport ParentCategory from './ParentCategory';\r\nimport CategoryItem from './CategoryItem';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { selectCategory } from 'data/actions/budgetActions';\r\nimport 'styled-components/macro';\r\nimport { useQuery } from 'react-query';\r\nimport API from 'data/fetch';\r\nimport { SuspenseErrorBoundary } from 'components';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\n\r\nfunction BudgetCategoryList({ selectCategory }) {\r\n  const handleClickParentCategoryRef = useRef(null);\r\n  const { t } = useTranslation();\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n\r\n  const { isFetching: budgetisFetching, data: budget } = useQuery(['budget', id], () => API.budget.fetchBudget(id));\r\n\r\n  const { isFetching: budgetedCategoriesisFetching, data: budgetedCategories } = useQuery(\r\n    'budgetedCategories',\r\n    API.budget.fetchBudgetedCategories\r\n  );\r\n  const { isFetching: allCategoriesisFetching, data: allCategories } = useQuery(\r\n    'allCategories',\r\n    API.common.fetchAllCategories\r\n  );\r\n\r\n  const isFetching = budgetisFetching || budgetedCategoriesisFetching || allCategoriesisFetching;\r\n\r\n  const handleClearCategorySelect = useCallback(() => {\r\n    selectCategory();\r\n    handleClickParentCategoryRef.current();\r\n  }, [selectCategory, handleClickParentCategoryRef]);\r\n\r\n  const handleSelectOtherCategory = useCallback(() => {\r\n    selectCategory(null);\r\n    handleClickParentCategoryRef.current();\r\n  }, [selectCategory, handleClickParentCategoryRef]);\r\n\r\n  const categoriesFilteredByBudget = budgetedCategories.filter((category) => category.budgetId === id);\r\n\r\n  const BudgetedCategoriesByParent = useMemo(\r\n    !isFetching && categoriesFilteredByBudget\r\n      ? () =>\r\n          groupBy(\r\n            categoriesFilteredByBudget,\r\n            (item) => allCategories.find((category) => category.id === item.categoryId).parentCategory.name\r\n          )\r\n      : noop,\r\n    [categoriesFilteredByBudget, allCategories, isFetching]\r\n  );\r\n\r\n  const listItems = useMemo(\r\n    !isFetching && BudgetedCategoriesByParent\r\n      ? () =>\r\n          Object.entries(BudgetedCategoriesByParent).map(([parentName, categories]) => ({\r\n            id: parentName,\r\n            Trigger: ({ onClick }) => (\r\n              <ParentCategory\r\n                name={parentName}\r\n                onClick={() => {\r\n                  onClick(parentName);\r\n                  selectCategory(parentName);\r\n                }}\r\n                categories={categories}\r\n                transactions={budget.transactions}\r\n              />\r\n            ),\r\n            children: categories.map((budgetedCategory) => {\r\n              const { name } = allCategories.find((category) => category.id === budgetedCategory.categoryId);\r\n\r\n              return (\r\n                <CategoryItem\r\n                  key={budgetedCategory.id}\r\n                  name={name}\r\n                  item={budgetedCategory}\r\n                  transactions={budget.transactions}\r\n                />\r\n              );\r\n            }),\r\n          }))\r\n      : noop,\r\n    [allCategories, BudgetedCategoriesByParent, budget.transactions, selectCategory, isFetching]\r\n  );\r\n\r\n  const totalSpent = useMemo(\r\n    () => budget.transactions.reduce((acc, transaction) => acc + transaction.amount, 0),\r\n    [budget.transactions]\r\n  );\r\n  const restToSpent = useMemo(() => budget.totalAmount - totalSpent, [totalSpent, budget.totalAmount]);\r\n  const amountTaken = useMemo(\r\n    () =>\r\n      categoriesFilteredByBudget.reduce((acc, budgetedCategory) => {\r\n        const categoryTransactions = budget.transactions.filter(\r\n          (transaction) => transaction.CategoryId === budgetedCategory.id\r\n        );\r\n        const categoryExpenses = categoryTransactions.reduce((acc, transaction) => acc + transaction.amount, 0);\r\n\r\n        return acc + Math.max(categoryExpenses, budgetedCategory.budget);\r\n      }, 0),\r\n    [budget.transactions, categoriesFilteredByBudget]\r\n  );\r\n\r\n  const notBudgetedTransactions = useMemo(\r\n    () =>\r\n      budget.transactions.filter((transaction) => {\r\n        return !budgetedCategories.find((budgetedCategory) => budgetedCategory.id === transaction.categoryId);\r\n      }),\r\n    [budget.transactions, budgetedCategories]\r\n  );\r\n  const notBudgetedExpenses = useMemo(\r\n    () => notBudgetedTransactions.reduce((acc, transaction) => acc + transaction.amount, 0),\r\n    [notBudgetedTransactions]\r\n  );\r\n  const availableForRestCategories = useMemo(\r\n    () => budget.totalAmount - amountTaken - notBudgetedExpenses,\r\n    [amountTaken, notBudgetedExpenses, budget.totalAmount]\r\n  );\r\n\r\n  return listItems && !isFetching ? (\r\n    <SuspenseErrorBoundary>\r\n      <div\r\n        css={`\r\n          border-bottom: 5px solid ${({ theme }) => theme.colors.gray.normal};\r\n        `}\r\n      >\r\n        <ParentCategory name={budget.name} amount={restToSpent} onClick={handleClearCategorySelect} />\r\n      </div>\r\n\r\n      <ToggleableList items={listItems} clickRef={handleClickParentCategoryRef} />\r\n      <div\r\n        css={`\r\n          border-top: 5px solid ${({ theme }) => theme.colors.gray.normal};\r\n        `}\r\n      >\r\n        <ParentCategory name={t('Other')} amount={availableForRestCategories} onClick={handleSelectOtherCategory} />\r\n      </div>\r\n    </SuspenseErrorBoundary>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n}\r\n\r\nexport default connect(null, {\r\n  selectCategory,\r\n})(BudgetCategoryList);\r\n","import { SET_SELECTED_CATEGORY_ID } from 'data/constants';\r\n\r\nexport const selectCategory = (id) => {\r\n  return {\r\n    type: SET_SELECTED_CATEGORY_ID,\r\n    payload: id,\r\n  };\r\n};\r\n","import React, { useMemo, useContext } from 'react';\r\nimport { List } from './BudgetTransactionListCss';\r\nimport { connect } from 'react-redux';\r\nimport { groupBy } from 'lodash';\r\nimport { TransactionItem } from '../TransactionItem';\r\nimport { useQuery } from 'react-query';\r\nimport API from 'data/fetch';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\n\r\nfunction BudgetTransactionList({ selectedCategory }) {\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n  const { data: budget } = useQuery(['budget', id], () => API.budget.fetchBudget(id));\r\n  const { data: budgetedCategories } = useQuery('budgetedCategories', API.budget.fetchBudgetedCategories);\r\n  const { data: allCategories } = useQuery('allCategories', API.common.fetchAllCategories);\r\n\r\n  const selectedBudgetCategories = budgetedCategories.filter((category) => category.budgetId === id);\r\n\r\n  const filteredBySelectedCategory = useMemo(() => {\r\n    if (typeof selectedCategory === 'undefined') {\r\n      return budget.transactions;\r\n    }\r\n    if (selectedCategory === null) {\r\n      return budget.transactions.filter((transaction) => {\r\n        const hasBudgetedCategory = selectedBudgetCategories.some(\r\n          (budgetedCategory) => budgetedCategory.categoryId === transaction.categoryId\r\n        );\r\n        return !hasBudgetedCategory;\r\n      });\r\n    }\r\n\r\n    return budget.transactions.filter((transaction) => {\r\n      try {\r\n        const Category = allCategories.find((category) => transaction.categoryId === category.id);\r\n\r\n        const parentCategoryName = Category.parentCategory.name;\r\n\r\n        return parentCategoryName === selectedCategory;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    });\r\n  }, [selectedCategory, allCategories, budget.transactions, selectedBudgetCategories]);\r\n\r\n  const groupedTransactions = useMemo(\r\n    () => groupBy(filteredBySelectedCategory, (transaction) => new Date(transaction.date).getUTCDate()),\r\n    [filteredBySelectedCategory]\r\n  );\r\n\r\n  return (\r\n    <List>\r\n      {Object.entries(groupedTransactions).map(([key, transactions]) => (\r\n        <li key={key}>\r\n          <TransactionItem transactions={transactions} allCategories={allCategories} />\r\n        </li>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n\r\nexport default connect((state) => ({\r\n  selectedCategory: state.budgets.SelectedCategoryId,\r\n}))(BudgetTransactionList);\r\n","import React, { useMemo, useContext } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { TransactionItem } from '../';\r\nimport { Modal } from 'components';\r\nimport { BudgetContext } from 'subpages/Budget/BudgetContext';\r\nimport API from 'data/fetch';\r\n\r\nexport default function SelectedTransactionModal() {\r\n  const { selectedBudget } = useContext(BudgetContext.Context);\r\n  const id = selectedBudget.value;\r\n  const { data: budget } = useQuery(['budget', id], () => API.budget.fetchBudget(id));\r\n  const { data: allCategories } = useQuery('allCategories', API.common.fetchAllCategories);\r\n\r\n  let location = useLocation();\r\n  const selectedTransactionId = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n\r\n  const selectedTransaction = useMemo(() => {\r\n    if (typeof selectedTransactionId === 'undefined') {\r\n      return budget.transactions;\r\n    }\r\n    if (typeof budget.transactions === 'undefined') {\r\n      return budget.transactions;\r\n    }\r\n    return budget.transactions.find((transaction) => transaction.id === selectedTransactionId);\r\n  }, [selectedTransactionId, budget.transactions]);\r\n\r\n  return (\r\n    <Modal>\r\n      <TransactionItem transactions={selectedTransaction} allCategories={allCategories} selected={true} />\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { Grid } from './BudgetCss';\r\nimport { BudgetSelector } from './components/BudgetSelector';\r\nimport { Button, SuspenseErrorBoundary } from 'components';\r\nimport {\r\n  BudgetTransactionList,\r\n  BudgetCategoryList,\r\n  SelectedTransactionModal,\r\n  AddTransactionFormView,\r\n  AddBudgetFormView,\r\n  AddCategoryFormView,\r\n} from 'subpages/Budget/components';\r\nimport { BudgetContext } from './BudgetContext';\r\nimport { Context } from 'Context';\r\n\r\nexport default function Budget() {\r\n  const { isBigScreen, isTabletOrMobile } = useContext(Context);\r\n  return (\r\n    <BudgetContext.ContextProvider>\r\n      <Grid isBigScreen={isBigScreen} isTabletOrMobile={isTabletOrMobile}>\r\n        <section>\r\n          <BudgetSelector />\r\n          <Button to=\"/budget/new\">Add new Budget</Button>\r\n          <SuspenseErrorBoundary>\r\n            <BudgetCategoryList />\r\n          </SuspenseErrorBoundary>\r\n          <Button to=\"/budget/category/new\">Add new Category</Button>\r\n        </section>\r\n        <section></section>\r\n        <section>\r\n          <SuspenseErrorBoundary>\r\n            <Button to=\"/budget/transactions/new\">Add new Transaction</Button>\r\n            <BudgetTransactionList />\r\n          </SuspenseErrorBoundary>\r\n        </section>\r\n      </Grid>\r\n      <Switch>\r\n        <Route path=\"/budget/transactions/new\">\r\n          <AddTransactionFormView />\r\n        </Route>\r\n        <Route path=\"/budget/new\">\r\n          <AddBudgetFormView />\r\n        </Route>\r\n        <Route path=\"/budget/category/new\">\r\n          <AddCategoryFormView />\r\n        </Route>\r\n        <Route path=\"/budget/transactions\">\r\n          <SelectedTransactionModal />\r\n        </Route>\r\n      </Switch>\r\n    </BudgetContext.ContextProvider>\r\n  );\r\n}\r\n","import React, { useContext } from 'react';\r\nimport GlobalStyle from './AppCss';\r\nimport './i18n/i18n';\r\nimport { Navigation, Wrapper, LoadingIndicator, Button } from 'components';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport theme from 'utils/theme';\r\nimport Budget from 'subpages/Budget';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ContextProvider from 'Context';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\ntoast.configure();\r\nfunction App() {\r\n  const { i18n } = useTranslation();\r\n  return (\r\n    <>\r\n      <ContextProvider>\r\n        <GlobalStyle />\r\n        <Router>\r\n          <Navigation\r\n            items={[\r\n              { content: 'Homepage', to: '/homepage' },\r\n              { content: 'Budget', to: '/budget' },\r\n              { content: 'Schedule', to: '/schedule' },\r\n              { content: 'Sandbox', to: '/sandbox' },\r\n            ]}\r\n            Languages={\r\n              <div>\r\n                <Button primary variant=\"regular\" onClick={() => i18n.changeLanguage('pl')}>\r\n                  pl\r\n                </Button>\r\n                <Button primary variant=\"regular\" onClick={() => i18n.changeLanguage('en')}>\r\n                  en\r\n                </Button>\r\n              </div>\r\n            }\r\n          />\r\n          <Wrapper>\r\n            <Switch>\r\n              <Route exact path=\"/homepage\">\r\n                Home\r\n              </Route>\r\n              <Route path=\"/budget\">\r\n                <Budget />\r\n              </Route>\r\n              <Route path=\"/schedule\">Schedule</Route>\r\n              <Route path=\"/sandbox\">Sandbox</Route>\r\n            </Switch>\r\n          </Wrapper>\r\n        </Router>\r\n      </ContextProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      suspense: true,\r\n    },\r\n  },\r\n});\r\n\r\nfunction RootApp() {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <ThemeProvider theme={theme}>\r\n        <React.Suspense fallback={<LoadingIndicator />}>\r\n          <App />\r\n        </React.Suspense>\r\n      </ThemeProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\nexport default RootApp;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { SET_SELECTED_CATEGORY_ID } from 'data/constants';\r\n\r\nconst initialState = {\r\n  SelectedCategoryId: undefined,\r\n};\r\n\r\nfunction budget(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_SELECTED_CATEGORY_ID:\r\n      return {\r\n        ...state,\r\n        SelectedCategoryId: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default budget;\r\n","const initialState = {\r\n  loadingState: null,\r\n};\r\n\r\nfunction common(state = initialState, action) {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nexport default common;\r\n","import { combineReducers } from 'redux';\r\nimport budgets from './budgetReducer';\r\nimport common from './commonReducer';\r\nconst rootReducer = combineReducers({\r\n  budgets,\r\n  common,\r\n});\r\nexport default rootReducer;\r\n","export default function promiseMiddleware() {\r\n  return (next) => (action) => {\r\n    const { promise, type, ...rest } = action;\r\n    if (!promise || typeof promise.then !== 'function') {\r\n      return next(action);\r\n    }\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const REQUEST = `${type}_REQUEST`;\r\n    const FALIURE = `${type}_FALIURE`;\r\n    next({ type: REQUEST, ...rest });\r\n\r\n    return promise\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        next({\r\n          type: SUCCESS,\r\n          payload: data,\r\n          ...rest,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        next({ type: FALIURE, error, ...rest });\r\n      });\r\n  };\r\n}\r\n","import { toast } from 'react-toastify';\r\n\r\nexport default function notificationsMiddleware() {\r\n  return (next) => (action) => {\r\n    if (action.messege && /(.*)_(SUCCESS)/.test(action.type)) {\r\n      toast.success(action.messege);\r\n    }\r\n    next(action);\r\n  };\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from 'data/store';\r\n\r\nconst store = configureStore();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer from './reducers';\r\nimport promiseMiddleware from './middlewares/promise';\r\nimport notificationsMiddleware from './middlewares/notifications';\r\n\r\nexport default function configureStore(preloadedState) {\r\n  const middlewares = [promiseMiddleware, notificationsMiddleware];\r\n  const middlewareEnhancer = applyMiddleware(...middlewares);\r\n\r\n  const enhancers = [middlewareEnhancer];\r\n  const composedEnhancers = composeWithDevTools(...enhancers);\r\n\r\n  const store = createStore(rootReducer, preloadedState, composedEnhancers);\r\n\r\n  if (process.env.NODE_ENV !== 'production' && module.hot) {\r\n    module.hot.accept('./reducers', () => store.replaceReducer(rootReducer));\r\n  }\r\n  return store;\r\n}\r\n","export * from './budgetConstants';\r\nexport * from './commonConstants';\r\n\r\nexport const LOADING_STATES = {\r\n  INITIAL: 'INITIAL',\r\n  LOADING: 'LOADING',\r\n  LOADED: 'LOADED',\r\n  FAILED: 'FAILED',\r\n};\r\n\r\nconst states = {\r\n  LOADING_STATES,\r\n};\r\nexport default states;\r\n","export const SET_SELECTED_CATEGORY_ID = 'SET_SELECTED_CATEGORY_ID';\r\n"],"sourceRoot":""}