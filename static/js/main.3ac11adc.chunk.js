(this["webpackJsonpmain-app"]=this["webpackJsonpmain-app"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchBudget",(function(){return Qe})),n.d(r,"fetchAllBudgets",(function(){return Ue})),n.d(r,"fetchBudgetedCategories",(function(){return qe})),n.d(r,"addTransaction",(function(){return Ge})),n.d(r,"addBudgetedCategory",(function(){return Ve})),n.d(r,"addParentCategory",(function(){return He})),n.d(r,"addBudget",(function(){return Ye})),n.d(r,"deleteTransaction",(function(){return We}));var a={};n.r(a),n.d(a,"fetchAllCategories",(function(){return Xe})),n.d(a,"addCategory",(function(){return Ze}));var c,i=n(1),o=n.n(i),u=n(26),s=n.n(u),d=n(6),l=n(5),b=n(64),j=Object(l.createGlobalStyle)(c||(c=Object(d.a)(["\n","\n  body{\n    background-color: ",";\n  }\n  ul{\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n"])),b.normalize,(function(e){return e.theme.colors.gray.light})),f=n(57),p=n(40),g=n(67),h=n(68),O=n(69),x=n(80),m=n(79),v=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.a)(this,n),t.call(this,e,r)}return Object(O.a)(n,[{key:"read",value:function(e,t,n){var r=this.options.loadPath,a=this.options.parseLoadPayload({lng:e,ns:t});"function"===typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var c=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(c,n,a)}},{key:"loadUrl",value:function(e,t,n){var r=this;this.options.ajax(e,this.options,(function(n,a){if(a.status>=500&&a.status<600)return t("failed loading "+e,!0);if(a.status>=400&&a.status<500)return t("failed loading "+e,!1);var c,i;try{c=r.options.parse(n,e)}catch(o){i="failed parsing "+e+" to json"}if(i)return t(i,!1);t(null,c)}),n)}}]),n}(n(70).a),y="9dccaa30094cac3083942007b448b227",C="440319";f.a.use(v).use(g.a).use(p.e).init({defaultLanguage:"en",otherLanguages:["pl"],fallbackLng:"en",debug:!0,saveMissing:!0,backend:{loadPath:"https://cors-anywhere.herokuapp.com/https://api.poeditor.com/v2/terms/list",addPath:"https://cors-anywhere.herokuapp.com/https://api.poeditor.com/v2/terms/add",crossDomain:!0,parse:function(e){return JSON.parse(e).result.terms.reduce((function(e,t){return e[t.term]=t.translation.content||t.term,e}),{})},parsePayload:function(e,t){if("_t"!==t){var n=[{term:t}];return{api_token:y,data:JSON.stringify(n),id:C}}},parseLoadPayload:function(e){var t=e.lng;return{api_token:y,language:t,id:C}}},interpolation:{escapeValue:!1}});f.a;var w,S,k,T=n(15),B=n(36),M=l.default.button(w||(w=Object(d.a)(["\n  color: ",";\n  cursor: inherit;\n  border: none;\n  background-color: ",";\n  &:hover {\n    opacity: 0.8;\n  }\n"])),(function(e){var t=e.theme.colors;return e.primary?t.react_default.logo:t.pink.normal}),(function(e){return e.to||e.onClick||"submit"===e.type?"pointer":"default"})),I=Object(l.default)(M)(S||(S=Object(d.a)(["\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),D=Object(l.default)(M)(k||(k=Object(d.a)(["\n  background: ",";\n  margin: ",";\n  padding: ",";\n  border: ",";\n  border-radius: 4px;\n  box-shadow: 1px 1px 5px 1px darkgray;\n"])),(function(e){var t=e.theme;return e.primary?t.colors.react_default.background:t.colors.gray.light}),(function(e){var t=e.theme;return"".concat(t.spacing.xs/2,"px")}),(function(e){var t=e.theme;return"".concat(t.spacing.xs/2,"px ").concat(t.spacing.xs,"px")}),(function(e){var t=e.theme;return"2px solid ".concat(t.colors.react_default.logo)})),E=n(19),P=n(30),_=n.n(P),A=n(2);function N(e){var t=e.variant,n=e.children,r=Object(B.a)(e,["variant","children"]),a=r.to,c=Object(i.useMemo)((function(){switch(t){case"inline":return I;case"regular":default:return D}}),[t]),o=Object(i.useMemo)((function(){return Object(A.jsx)(c,Object(T.a)(Object(T.a)({},r),{},{children:n}))}),[r,n]);return a?Object(A.jsx)(E.b,Object(T.a)(Object(T.a)({},r),{},{children:o})):Object(A.jsx)(i.Fragment,{children:o})}N.propType={variant:_.a.oneOf(["inline","regular"])};var L,R,F,z,J=N,Q=n(13),U=l.default.aside(L||(L=Object(d.a)(["\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 150;\n"]))),q=l.default.div(R||(R=Object(d.a)(["\n  background: #fff;\n  position: absolute;\n  margin: auto;\n  width: ",";\n  height: ",";\n  box-shadow: ",";\n  padding: 25px 50px;\n  text-align: center;\n  border-radius: 15px;\n"])),(function(e){return e.isStatic?"250px":"fit-content"}),(function(e){return e.isStatic?"310px":"fit-content"}),(function(e){var t=e.theme;return"0 5px 10px 2px ".concat(t.colors.gray.dark)})),G=l.default.div(F||(F=Object(d.a)(["\n  position: absolute;\n  right: 7px;\n  top: 5px;\n  cursor: pointer;\n  font-size: 20px;\n"])));function V(e){var t=e.children,n=e.isStatic,r=Object(Q.f)(),a=function(e){r.goBack()};return Object(u.createPortal)(Object(A.jsx)(U,{onClick:a,children:Object(A.jsxs)(q,{isStatic:n,onClick:function(e){return e.stopPropagation()},children:[Object(A.jsx)(G,{onClick:a,children:"\xd7"}),t]})}),document.querySelector("#modal"))}var H,Y,W,K,X,Z,$,ee=l.default.div(z||(z=Object(d.a)(["\n  width: 100%;\n  margin: 0 auto;\n  max-width: 960px;\n  padding: 0 10px;\n"]))),te=l.default.header(H||(H=Object(d.a)(["\n  background-color: ",";\n  display: flex;\n  padding: ","px 0;\n  justify-content: space-between;\n  box-shadow: 0px 0px 12px 4px darkgray;\n  * {\n    font-size: ",";\n    transition: 0.3s ease;\n  }\n"])),(function(e){return e.theme.colors.gray.light}),(function(e){return e.theme.spacing.med}),(function(e){return e.isTabletOrMobile?"11px":"16px"})),ne=l.default.ul(Y||(Y=Object(d.a)(["\n  display: flex;\n"]))),re=Object(l.default)(ee)(W||(W=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ae=l.default.li(K||(K=Object(d.a)(["\n  margin: ",";\n  z-index: 10;\n"])),(function(e){return e.isTabletOrMobile?"0 0px 0 16px":"0 16px"})),ce=n(108),ie=l.default.section(X||(X=Object(d.a)(["\n  box-shadow: 3px 1px 12px 1px lightgray;\n  content: '';\n  display: block;\n  position: fixed;\n  top: ",";\n  left: calc(45vw - 45px);\n  width: 6vw;\n  height: 6vw;\n\n  border: calc(0.9vw + 40px) solid;\n  border-color: transparent "," ","\n    transparent;\n  border-radius: 10px;\n  transform: rotate(45deg);\n\n  &:before {\n    content: '';\n\n    position: fixed;\n    top: calc(-21.7px);\n    left: calc(-21.7px);\n    width: 4.5vw;\n    height: 4.5vw;\n    border: calc(0.9vw + 20px) solid;\n    border-color: transparent "," ","\n      transparent;\n    border-radius: 40%;\n  }\n"])),(function(e){return e.isTabletOrMobile?"calc(-4vw - 2px)":"calc(-4vw + 5px)"}),(function(e){return e.theme.colors.gray.light}),(function(e){return e.theme.colors.gray.light}),(function(e){return e.theme.colors.gray.dark}),(function(e){return e.theme.colors.gray.dark})),oe=l.default.section(Z||(Z=Object(d.a)(["\n  box-shadow: 23px 25px 60px 30px ",";\n  display: block;\n  position: fixed;\n  top: ",";\n  left: calc(48.9vw - 30px);\n\n  .icon {\n    width: calc(8px + ",");\n    position: absolute;\n    top: ",";\n    left: calc(22px - ",");\n    animation: "," infinite 5s linear;\n  }\n  @keyframes cradle {\n    from {\n      transform: rotate(60deg);\n    }\n    50% {\n      transform: rotate(-10deg);\n    }\n    to {\n      transform: rotate(60deg);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.isDay?"orange":"blue"}),(function(e){return e.isTabletOrMobile?"22px":"31px"}),(function(e){return e.isDay?"3.2vw":"1.9vw"}),(function(e){return e.isDay?"8px":"12px"}),(function(e){return e.isDay?"1.7vw":"1vw"}),(function(e){return e.isDay?"spin":"cradle"})),ue=n(17);var se=l.default.h2($||($=Object(d.a)(["\n  position: fixed;\n  z-index: 15;\n  margin-top: calc(32px + 1.1vw);\n  background: transparent;\n  font-family: 'arial';\n  left: ",";\n"])),(function(e){return e.isTabletOrMobile?"calc(49vw - 20px)":"calc(49vw - 27px)"})),de=function(e){var t=Object(i.useState)(e),n=Object(ue.a)(t,2),r=n[0],a=n[1];return Object(i.useEffect)((function(){var e=setInterval((function(){a(new Date)}),1e4);return function(){clearInterval(e)}}),[]),r},le=function(e){var t=e.isTabletOrMobile,n=e.isBigScreen,r=de(new Date);return Object(A.jsx)(se,{isBigScreen:n,isTabletOrMobile:t,children:r.toLocaleTimeString().substring(0,5)})},be=n(73),je=n(74),fe=n(56),pe=n(47),ge=Object(i.createContext)(),he=function(e){var t=e.children,n=(new Date).getUTCMinutes(),r=Object(i.useState)(!1),a=Object(ue.a)(r,2),c=a[0],o=a[1],u=Object(pe.useMediaQuery)({minDeviceWidth:1400}),s=Object(pe.useMediaQuery)({maxWidth:850}),d=Object(pe.useMediaQuery)({orientation:"portrait"});Object(i.useEffect)((function(){l()}),[n]);var l=function(){navigator.geolocation.getCurrentPosition((function(e){var t=Object(fe.getSunrise)(e.coords.latitude,e.coords.longitude).getTime(),n=Object(fe.getSunset)(e.coords.latitude,e.coords.longitude).getTime(),r=(new Date).getTime();o(r>t&&r<n)}))},b={isDay:c,isBigScreen:u,isTabletOrMobile:s,isPortrait:d};return Object(A.jsx)(ge.Provider,{value:b,children:t})};var Oe=function(){var e=Object(i.useContext)(ge),t=e.isDay,n=e.isBigScreen,r=e.isTabletOrMobile;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(oe,{isDay:t,isBigScreen:n,isTabletOrMobile:r,children:[Object(A.jsx)(ie,{isBigScreen:n,isTabletOrMobile:r}),t?Object(A.jsx)(be.a,{className:"icon",size:40}):Object(A.jsx)(je.a,{className:"icon",size:25}),Object(A.jsx)(le,{isBigScreen:n,isTabletOrMobile:r})]})})};var xe,me,ve=function(e){var t=e.items,n=void 0===t?[]:t,r=e.Languages,a=Object(ce.a)().t,c=Object(i.useContext)(ge),o=c.isBigScreen,u=c.isTabletOrMobile;return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(he,{children:Object(A.jsxs)(te,{isBigScreen:o,isTabletOrMobile:u,children:[Object(A.jsxs)(re,{children:[Object(A.jsx)(ne,{children:n.map((function(e){return Object(A.jsx)(ae,{isBigScreen:o,isTabletOrMobile:u,children:Object(A.jsx)(J,{primary:"true",to:e.to,children:a(e.content)})},e.to)}))}),r]}),Object(A.jsx)(Oe,{})]})})})},ye=l.default.div(xe||(xe=Object(d.a)(["\n  position: absolute;\n  width: 150px;\n  height: 150px;\n  margin: 40vh 0 0 40vw;\n"]))),Ce=l.default.div(me||(me=Object(d.a)(["\n  content: ' ';\n  display: block;\n  border-radius: 50%;\n  width: 0;\n  height: 0;\n\n  box-sizing: border-box;\n  border: 72px solid ",";\n  border-color: "," transparent\n    "," transparent;\n  animation: hourglass 1.2s infinite;\n\n  @keyframes hourglass {\n    0% {\n      transform: rotate(0);\n      animation-timing-function: cubic-bezier(0.55, 0.055, 0.675, 0.19);\n    }\n    50% {\n      transform: rotate(900deg);\n      animation-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);\n    }\n    100% {\n      transform: rotate(1800deg);\n    }\n  }\n"])),(function(e){return e.theme.colors.react_default.logo}),(function(e){return e.theme.colors.react_default.logo}),(function(e){return e.theme.colors.react_default.logo}));var we=function(){return Object(A.jsx)(ye,{children:Object(A.jsx)(Ce,{})})},Se=function(e){var t=e.item,n=e.onClickHandler,r=e.isActive;return Object(A.jsxs)("div",{children:[Object(A.jsx)(t.Trigger,{onClick:n}),r&&t.children]})};function ke(e){var t=e.items,n=e.clickRef,r=Object(i.useState)(),a=Object(ue.a)(r,2),c=a[0],o=a[1];return Object(i.useEffect)((function(){n.current=o}),[n,c]),Object(A.jsx)(A.Fragment,{children:t.map((function(e){return Object(A.jsx)(Se,{item:e,onClickHandler:o,isActive:c===e.id},e.id)}))})}var Te=n(12),Be=n.n(Te),Me=n(22),Ie=n(43),De=n(76);function Ee(e){var t=e.resetErrorBoundary;return Object(A.jsxs)("div",{role:"alert",children:[Object(A.jsxs)("div",{children:["Something went wrong.",Object(A.jsx)(J,{onClick:t,children:"My Try Again!"})]}),Object(A.jsx)("button",{onClick:t,children:"Try again"})]})}function Pe(e){var t=Object.assign({},e),n=Object(Ie.b)();function r(){return(r=Object(Me.a)(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.refetchQueries();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(A.jsx)(De.ErrorBoundary,{FallbackComponent:Ee,onReset:function(){return r.apply(this,arguments)},children:Object(A.jsx)(o.a.Suspense,{fallback:Object(A.jsx)(we,{}),children:t.children})})}var _e,Ae,Ne,Le={spacing:{sm:5,med:10,xl:25},colors:{gray:{light:"rgb(234,234,234)",normal:"rgb(222,222,222)",dark:"rgb(210,210,210)",darker:"rgb(180,180,180)"},green:{normal:"rgb(85,155,0)"},red:{normal:"rgb(165,61,54)"},pink:{normal:"rgb(219,110,149)"},react_default:{background:"rgb(40,44,52)",logo:"rgb(0,200,252)"}}},Re=l.default.div(_e||(_e=Object(d.a)(["\n  display: flex;\n  margin-top: 135px;\n  section:nth-child(1) {\n    flex: 9;\n    margin-left: 4vw;\n  }\n  section:nth-child(2) {\n    flex: 2;\n  }\n  section:nth-child(3) {\n    flex: 17;\n    margin-right: 4vw;\n  }\n  * {\n    font-size: ",";\n    transition: 0.3s ease;\n  }\n"])),(function(e){return e.isTabletOrMobile?"12px":"16px"})),Fe=n(78),ze=n(107),Je="https://homebudget1data.herokuapp.com",Qe=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Je,"/budgets/").concat(t,"/?_embed=transactions"),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Me.a)(Be.a.mark((function e(){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Je,"/budgets"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(Me.a)(Be.a.mark((function e(){var t,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Je,"/budgetCategories"),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r,a,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.budgetId,r=t.data,a="".concat(Je,"/budgets/").concat(n,"/transactions"),e.next=4,fetch(a,{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}});case 4:return c=e.sent,e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r="".concat(Je,"/budgetCategories"),e.next=4,fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r="".concat(Je,"/parentCategories"),e.next=4,fetch(r,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e){var t=e.data,n="".concat(Je,"/budgets");return fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}})},We=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionId,r="".concat(Je,"/transactions/").concat(n),e.next=4,fetch(r,{method:"DELETE",headers:{"Content-type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke="https://homebudget1data.herokuapp.com",Xe=function(){var e=Object(Me.a)(Be.a.mark((function e(){var t;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Ke,"/categories/?_expand=parentCategory"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(Me.a)(Be.a.mark((function e(t){var n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,e.next=3,fetch("".concat(Ke,"/categories/?_expand=parentCategory"),{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e={budget:r,common:a},et=Object(i.createContext)({}),tt=["January","February","March","April","May","June","July","August","September","October","November","December"],nt={Context:et,ContextProvider:function(e){var t=e.children,n=(new Date).getMonth()-1,r=Object(i.useState)({value:n.toString(),Label:tt[n]}),a=Object(ue.a)(r,2),c=a[0],o=a[1],u=Object(Ie.b)();return Object(i.useEffect)((function(){u.invalidateQueries()}),[u,c]),Object(A.jsx)(et.Provider,{value:{selectedBudget:c,setSelectedBudget:o},children:t})}},rt=function(){var e=Object(i.useContext)(nt.Context).setSelectedBudget,t=Object(ze.a)("budgets",(function(){return $e.budget.fetchAllBudgets()})).data.map((function(e){return{value:e.id,label:e.name}}));return Object(A.jsx)(Fe.a,{options:t,onChange:e})},at=n(109),ct=l.default.ul(Ae||(Ae=Object(d.a)(["\n  > li + li {\n    margin-top: ","px;\n  }\n"])),(function(e){return e.theme.spacing.sm})),it=l.default.li(Ne||(Ne=Object(d.a)(["\n  border: 1px solid ",";\n  padding: ","px;\n  display: flex;\n  flex-direction: ",";\n  justify-content: space-between;\n  > * {\n    border: 1px solid ",";\n    padding: ",";\n  }\n  > *:nth-child(1) {\n    flex: 8;\n  }\n  > *:nth-child(2) {\n    flex: 4;\n  }\n  > *:nth-child(3) {\n    flex: 6;\n  }\n  > *:nth-child(4) {\n    flex: 3;\n  }\n  > *:nth-child(5) {\n    flex: 1;\n    flex-direction: row;\n    > * {\n      background-color: rgb(250, 120, 0, 0.3);\n      border-radius: 50%;\n      :hover {\n        background-color: rgb(250, 40, 0, 0.7);\n      }\n    }\n    margin: auto;\n    height: fit-content;\n  }\n"])),(function(e){return e.theme.colors.gray.dark}),(function(e){return e.theme.spacing.sm}),(function(e){return e.vertical?"column":"row"}),(function(e){var t=e.vertical,n=e.theme;return t?n.colors.gray.dark:"none"}),(function(e){return e.vertical?"10px":"1px"})),ot=function(e){var t=Number(e);return new Intl.NumberFormat("pl",{style:"currency",currency:"PLN"}).format(t)},ut=function(e){var t=new Date(e);return new Intl.DateTimeFormat(["pl"]).format(t)};function st(e){var t=e.transactions,n=e.allCategories,r=Object(B.a)(e,["transactions","allCategories"]).selected;return r?Object(A.jsxs)("ul",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(A.jsxs)(it,{vertical:r,children:[Object(A.jsx)("div",{children:"Description"}),Object(A.jsx)("div",{children:"Amount"}),Object(A.jsx)("div",{children:"Date"}),Object(A.jsx)("div",{children:"Category"})]},t.description),Object(A.jsx)(dt,{transaction:t,allCategories:n,vertical:r},t.id)]}):Object(A.jsx)("ul",{children:t.map((function(e){return Object(A.jsx)(E.b,{to:"/budget/transactions/"+e.id,style:{textDecoration:"none",color:"black"},children:Object(A.jsx)(dt,{transaction:e,allCategories:n},e.id)},e.id)}))})}function dt(e){var t=e.transaction,n=e.allCategories,r=e.vertical,a=Object(Q.f)(),c=Object(i.useContext)(nt.Context).selectedBudget.value,o=Object(Ie.b)(),u=Object(at.a)($e.budget.deleteTransaction,{onSuccess:function(){o.invalidateQueries(["budget",c])}}),s=Object(i.useMemo)((function(){return(n.find((function(e){return t.categoryId===e.id}))||{}).name}),[n,t]),d=t.id;return Object(A.jsxs)(it,{vertical:r,children:[Object(A.jsx)("div",{children:t.description}),Object(A.jsx)("div",{children:ot(t.amount)}),Object(A.jsx)("div",{children:ut(t.date)}),Object(A.jsx)("div",{children:s||"Uncategorized"}),Object(A.jsxs)("div",{onClick:function(e){return e.preventDefault()},children:[r?"Delete transaction ":null,Object(A.jsx)(J,{variant:"inline",onClick:function(){u.mutate({transactionId:d}),r&&a.goBack()},children:"\xd7"})]})]})}var lt,bt,jt=n(14),ft=n(20),pt=l.default.div(lt||(lt=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  * {\n    :focus {\n      outline: none;\n      background-color: ivory;\n    }\n    :nth-child(2) {\n      padding: 6px 7px;\n      border: 1px solid ",";\n      box-sizing: border-box;\n      box-shadow: -2px 4px 8px rgba(110, 120, 140, 0.1);\n      border-radius: 25px;\n      width: 250px;\n    }\n  }\n"])),(function(e){return e.theme.colors.gray.light})),gt=l.default.div(bt||(bt=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n"])));function ht(e){var t=e.input,n=e.meta,r=e.fieldType,a=void 0===r?"text":r,c=e.step,i=e.placeholder,o=e.description,u=e.disabled;return Object(A.jsxs)(pt,{children:[Object(A.jsx)("label",{children:o||a}),Object(A.jsx)("input",Object(T.a)(Object(T.a)({},t),{},{step:c,disabled:u,defaultValue:"Reset",type:u?"clear":a,placeholder:i||a})),n.error&&n.touched&&Object(A.jsx)("span",{children:n.error})]})}function Ot(e){var t=e.input,n=e.meta,r=e.options,a=e.description,c=e.initialValue;return Object(A.jsxs)(pt,{children:[Object(A.jsx)("label",{children:a}),Object(A.jsx)("select",Object(T.a)(Object(T.a)({},t),{},{initialvalue:c,children:r})),n.error&&n.touched&&Object(A.jsx)("span",{children:n.error})]})}var xt=function(e){return e?void 0:"Required"};function mt(e){var t=e.onSubmit,n=void 0===t?ft.noop:t,r=e.categories,a=e.groupedCategoriesBy,c=a?Object(ft.groupBy)(r,a):null,o=Object(i.useMemo)((function(){return c?Object.entries(c).map((function(e){var t=Object(ue.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)("optgroup",{label:n,children:r.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name},e.id)}))},n)})):r.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name})}))}),[c,r]);return Object(A.jsx)(jt.b,{onSubmit:n,render:function(e){var t=e.handleSubmit,n=e.form,r=e.submitting,a=e.pristine;e.values;return Object(A.jsxs)("form",{onSubmit:t,children:[Object(A.jsx)(jt.a,{name:"description",fieldType:"Description",validate:xt,component:ht}),Object(A.jsx)(jt.a,{name:"amount",validate:xt,step:"0.01",fieldType:"number",parse:function(e){return parseFloat(e,8)},placeholder:"Amount",component:ht}),Object(A.jsx)(jt.a,{name:"categoryId",component:Ot,options:o,validate:xt,description:"Category"}),Object(A.jsx)(jt.a,{name:"date",fieldType:"Date",validate:xt,component:ht}),Object(A.jsxs)("div",{className:"buttons",children:[Object(A.jsx)(J,{type:"button",variant:"inline",style:{marginRight:"30px"},onClick:n.reset,disabled:r||a,children:"Reset"}),Object(A.jsx)(J,{type:"submit",variant:"inline",primary:!0,disabled:r,children:"Submit"})]})]})}})}function vt(){var e=Object(Q.f)(),t=Object(i.useContext)(nt.Context).selectedBudget.value,n=Object(ze.a)(["budget",t],(function(){return $e.budget.fetchBudget(t)})).data,r=Object(ze.a)("allCategories",$e.common.fetchAllCategories).data,a=Object(Ie.b)(),c=Object(at.a)($e.budget.addTransaction,{onSuccess:function(){a.invalidateQueries(["budget",t])}});return Object(A.jsx)(V,{children:Object(A.jsx)(mt,{categories:r,groupedCategoriesBy:"parentCategory.name",onSubmit:function(t){c.mutate({budgetId:n.id,data:t}),e.goBack()}})})}var yt=function(e){return e?void 0:"Required"};function Ct(e){var t=e.onSubmit,n=void 0===t?ft.noop:t;return Object(A.jsx)(jt.b,{onSubmit:n,render:function(e){var t=e.handleSubmit,n=e.form,r=e.submitting,a=e.pristine;return Object(A.jsxs)("form",{onSubmit:t,children:[Object(A.jsx)(jt.a,{name:"name",description:"Budget name",validate:yt,component:ht}),Object(A.jsx)(jt.a,{name:"totalAmount",description:"Money amount",validate:yt,step:"0.01",fieldType:"number",parse:function(e){return parseFloat(e,8)},placeholder:"Amount",component:ht}),Object(A.jsxs)("div",{className:"buttons",children:[Object(A.jsx)(J,{type:"button",variant:"inline",style:{marginRight:"30px"},onClick:n.reset,disabled:r||a,children:"Reset"}),Object(A.jsx)(J,{type:"submit",variant:"inline",primary:!0,disabled:r,children:"Submit"})]})]})}})}function wt(){var e=Object(Ie.b)(),t=Object(Q.f)(),n=Object(ze.a)("budgets",(function(){return $e.budget.fetchAllBudgets()})).data,r=Object(at.a)($e.budget.addBudget,{onSuccess:function(){e.invalidateQueries("budgets")}}),a=Object(i.useMemo)((function(){return parseInt(n[n.length-1].id)}),[n]);return Object(A.jsx)(V,{children:Object(A.jsx)(Ct,{onSubmit:function(e){var n={id:(a+1).toString(),name:e.name,totalAmount:e.totalAmount};r.mutate({data:n}),t.goBack()}})})}var St=function(e){return e?void 0:"Required"};function kt(e){var t=e.onSubmit,n=void 0===t?ft.noop:t,r=e.categories,a=e.budgets,c=e.selectedBudgetId,o=Object(i.useMemo)((function(){return r?r.map((function(e){return e.parentCategory})):null}),[r]).filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t})).map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name},e.id)})),u=Object(i.useMemo)((function(){return"undefined"!==typeof a.length?a.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.name},e.id)})):[Object(A.jsx)("option",{value:0,children:"test"}),Object(A.jsx)("option",{value:a.id,children:a.name},a.id)]}),[a]);return Object(A.jsx)(jt.b,{onSubmit:n,render:function(e){var t=e.handleSubmit,n=e.form,r=e.submitting,a=e.pristine,i=e.values;return Object(A.jsxs)("form",{onSubmit:t,children:[Object(A.jsxs)(gt,{children:[Object(A.jsx)("label",{children:"New "}),Object(A.jsx)(jt.a,{name:"newParentCategory",component:"input",type:"checkbox"}),Object(A.jsx)("label",{children:"New budgeted category "}),Object(A.jsx)(jt.a,{name:"budgeted",component:"input",type:"checkbox"})]}),Object(A.jsx)(jt.a,{description:"Budget",name:"budgetId",fieldType:"Budget ",initialValue:c,options:u,component:Ot}),Object(A.jsx)(jt.a,{name:"name",fieldType:"Category name ",validate:St,component:ht}),!i.newParentCategory&&[Object(A.jsx)(jt.a,{name:"parentCategoryId",description:"Parent category",options:o,initialValue:"1",component:Ot})],i.newParentCategory&&[Object(A.jsx)(jt.a,{name:"newParentCategoryName",description:"New parent category Name",placeholder:"Name",component:ht})],i.budgeted&&[Object(A.jsx)(jt.a,{name:"budget",validate:St,step:"0.01",fieldType:"number",description:"Budget Size ",parse:function(e){return parseFloat(e,8)},placeholder:"Amount",component:ht})],Object(A.jsxs)("div",{className:"buttons",children:[Object(A.jsx)(J,{type:"button",variant:"inline",style:{marginRight:"30px"},onClick:n.reset,disabled:r||a,children:"Reset"}),Object(A.jsx)(J,{type:"submit",variant:"inline",primary:!0,disabled:r,children:"Submit"})]})]})}})}function Tt(){var e=Object(Q.f)(),t=Object(i.useContext)(nt.Context).selectedBudget.value,n=Object(ze.a)("budgets",(function(){return $e.budget.fetchAllBudgets()})).data,r=Object(ze.a)("allCategories",$e.common.fetchAllCategories).data,a=Object(Ie.b)(),c=Object(at.a)($e.common.addCategory,{onSuccess:function(){a.invalidateQueries()}}),o=Object(at.a)($e.budget.addBudgetedCategory),u=Object(at.a)($e.budget.addParentCategory),s=Object(i.useMemo)((function(){return parseInt(r[r.length-1].id)}),[r]),d=Object(i.useMemo)((function(){return Math.max.apply(Math,r.map((function(e){return e.parentCategoryId})))}),[r]);return Object(A.jsx)(V,{isStatic:!0,children:Object(A.jsx)(kt,{categories:r,budgets:n,onSubmit:function(t){t.newParentCategory&&u.mutate({data:{id:(d+1).toString(),name:t.newParentCategoryName}}),t.budgeted&&o.mutate({data:{id:(s+1).toString(),budget:t.budget,categoryId:(s+1).toString(),budgetId:t.budgetId.toString()}}),c.mutate({data:{id:(s+1).toString(),name:t.name,parentCategoryId:(t.newParentCategory?(parseInt(d)+1).toString():t.parentCategoryId).toString()}}),e.goBack()},selectedBudgetId:t})})}var Bt,Mt,It,Dt,Et=n(34),Pt=l.default.div(Bt||(Bt=Object(d.a)(["\n  border: 1px solid ",";\n  padding: ","px;\n  display: flex;\n  justify-content: space-between;\n  border-radius: 3px;\n  cursor: pointer;\n"])),(function(e){return e.theme.colors.gray.darker}),(function(e){return e.theme.spacing.sm})),_t=Object(l.default)(Pt)(Mt||(Mt=Object(d.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.gray.dark})),At=Object(l.default)(Pt)(It||(It=Object(d.a)(["\n  background-color: ",";\n"])),(function(e){return e.theme.colors.gray.light})),Nt=l.default.span(Dt||(Dt=Object(d.a)(["\n  font-weight: 700;\n  transition: 0.3s ease;\n  color: ",";\n"])),(function(e){var t=e.theme;return e.negative?t.colors.red.normal:t.colors.green.normal}));function Lt(e){var t=e.name,n=e.onClick,r=e.categories,a=e.transactions,c=e.amount,o=Object(i.useMemo)((function(){var e=function(){try{return r.reduce((function(e,t){return e+t.budget}),0)}catch(e){return null}}(),t=a?a.filter((function(e){return r.find((function(t){return t.categoryId===e.categoryId}))})):0,n=t?t.reduce((function(e,t){return e+t.amount}),0):0;return e&&null!==n?e-n:null}),[r,a]),u=Object(i.useMemo)((function(){return c||o}),[c,o]);return Object(A.jsxs)(_t,{onClick:n,children:[Object(A.jsx)("span",{children:t}),Object(A.jsx)(Nt,{negative:u<0,children:ot(u)})]})}function Rt(e){var t=e.name,n=e.item,r=e.transactions.filter((function(e){return e.categoryId===n.id})).reduce((function(e,t){return e+t.amount}),0),a=n.budget-r;return Object(A.jsxs)(At,{children:[Object(A.jsx)("span",{children:t}),Object(A.jsx)(Nt,{negative:a<0,children:ot(a)})]})}var Ft=n(45),zt=Object(l.default)("div").withConfig({displayName:"BudgetCategoryList___StyledDiv",componentId:"sc-81wa92-0"})(["border-bottom:5px solid ",";"],(function(e){return e.theme.colors.gray.normal})),Jt=Object(l.default)("div").withConfig({displayName:"BudgetCategoryList___StyledDiv2",componentId:"sc-81wa92-1"})(["border-top:5px solid ",";"],(function(e){return e.theme.colors.gray.normal}));var Qt=Object(Et.b)(null,{selectCategory:function(e){return{type:Ft.SET_SELECTED_CATEGORY_ID,payload:e}}})((function(e){var t=e.selectCategory,n=Object(i.useRef)(null),r=Object(ce.a)().t,a=Object(i.useContext)(nt.Context).selectedBudget.value,c=Object(ze.a)(["budget",a],(function(){return $e.budget.fetchBudget(a)})),o=c.isFetching,u=c.data,s=Object(ze.a)("budgetedCategories",$e.budget.fetchBudgetedCategories),d=s.isFetching,l=s.data,b=Object(ze.a)("allCategories",$e.common.fetchAllCategories),j=b.isFetching,f=b.data,p=o||d||j,g=Object(i.useCallback)((function(){t(),n.current()}),[t,n]),h=Object(i.useCallback)((function(){t(null),n.current()}),[t,n]),O=l.filter((function(e){return e.budgetId===a})),x=Object(i.useMemo)(!p&&O?function(){return Object(ft.groupBy)(O,(function(e){return f.find((function(t){return t.id===e.categoryId})).parentCategory.name}))}:ft.noop,[O,f,p]),m=Object(i.useMemo)(!p&&x?function(){return Object.entries(x).map((function(e){var n=Object(ue.a)(e,2),r=n[0],a=n[1];return{id:r,Trigger:function(e){var n=e.onClick;return Object(A.jsx)(Lt,{name:r,onClick:function(){n(r),t(r)},categories:a,transactions:u.transactions})},children:a.map((function(e){var t=f.find((function(t){return t.id===e.categoryId})).name;return Object(A.jsx)(Rt,{name:t,item:e,transactions:u.transactions},e.id)}))}}))}:ft.noop,[f,x,u.transactions,t,p]),v=Object(i.useMemo)((function(){return u.transactions.reduce((function(e,t){return e+t.amount}),0)}),[u.transactions]),y=Object(i.useMemo)((function(){return u.totalAmount-v}),[v,u.totalAmount]),C=Object(i.useMemo)((function(){return O.reduce((function(e,t){var n=u.transactions.filter((function(e){return e.CategoryId===t.id})).reduce((function(e,t){return e+t.amount}),0);return e+Math.max(n,t.budget)}),0)}),[u.transactions,O]),w=Object(i.useMemo)((function(){return u.transactions.filter((function(e){return!l.find((function(t){return t.id===e.categoryId}))}))}),[u.transactions,l]),S=Object(i.useMemo)((function(){return w.reduce((function(e,t){return e+t.amount}),0)}),[w]),k=Object(i.useMemo)((function(){return u.totalAmount-C-S}),[C,S,u.totalAmount]);return m&&!p?Object(A.jsxs)(Pe,{children:[Object(A.jsx)(zt,{children:Object(A.jsx)(Lt,{name:u.name,amount:y,onClick:g})}),Object(A.jsx)(ke,{items:m,clickRef:n}),Object(A.jsx)(Jt,{children:Object(A.jsx)(Lt,{name:r("Other"),amount:k,onClick:h})})]}):Object(A.jsx)("div",{})}));var Ut=Object(Et.b)((function(e){return{selectedCategory:e.budgets.SelectedCategoryId}}))((function(e){var t=e.selectedCategory,n=Object(i.useContext)(nt.Context).selectedBudget.value,r=Object(ze.a)(["budget",n],(function(){return $e.budget.fetchBudget(n)})).data,a=Object(ze.a)("budgetedCategories",$e.budget.fetchBudgetedCategories).data,c=Object(ze.a)("allCategories",$e.common.fetchAllCategories).data,o=a.filter((function(e){return e.budgetId===n})),u=Object(i.useMemo)((function(){return"undefined"===typeof t?r.transactions:null===t?r.transactions.filter((function(e){return!o.some((function(t){return t.categoryId===e.categoryId}))})):r.transactions.filter((function(e){try{return c.find((function(t){return e.categoryId===t.id})).parentCategory.name===t}catch(n){return!1}}))}),[t,c,r.transactions,o]),s=Object(i.useMemo)((function(){return Object(ft.groupBy)(u,(function(e){return new Date(e.date).getUTCDate()}))}),[u]);return Object(A.jsx)(ct,{children:Object.entries(s).map((function(e){var t=Object(ue.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)("li",{children:Object(A.jsx)(st,{transactions:r,allCategories:c})},n)}))})}));function qt(){var e=Object(i.useContext)(nt.Context).selectedBudget.value,t=Object(ze.a)(["budget",e],(function(){return $e.budget.fetchBudget(e)})).data,n=Object(ze.a)("allCategories",$e.common.fetchAllCategories).data,r=Object(Q.g)(),a=r.pathname.substring(r.pathname.lastIndexOf("/")+1),c=Object(i.useMemo)((function(){return"undefined"===typeof a||"undefined"===typeof t.transactions?t.transactions:t.transactions.find((function(e){return e.id===a}))}),[a,t.transactions]);return Object(A.jsx)(V,{children:Object(A.jsx)(st,{transactions:c,allCategories:n,selected:!0})})}function Gt(){var e=Object(i.useContext)(ge),t=e.isBigScreen,n=e.isTabletOrMobile;return Object(A.jsxs)(nt.ContextProvider,{children:[Object(A.jsxs)(Re,{isBigScreen:t,isTabletOrMobile:n,children:[Object(A.jsxs)("section",{children:[Object(A.jsx)(rt,{}),Object(A.jsx)(J,{to:"/budget/new",children:"Add new Budget"}),Object(A.jsx)(Pe,{children:Object(A.jsx)(Qt,{})}),Object(A.jsx)(J,{to:"/budget/category/new",children:"Add new Category"})]}),Object(A.jsx)("section",{}),Object(A.jsx)("section",{children:Object(A.jsxs)(Pe,{children:[Object(A.jsx)(J,{to:"/budget/transactions/new",children:"Add new Transaction"}),Object(A.jsx)(Ut,{})]})})]}),Object(A.jsxs)(Q.c,{children:[Object(A.jsx)(Q.a,{path:"/budget/transactions/new",children:Object(A.jsx)(vt,{})}),Object(A.jsx)(Q.a,{path:"/budget/new",children:Object(A.jsx)(wt,{})}),Object(A.jsx)(Q.a,{path:"/budget/category/new",children:Object(A.jsx)(Tt,{})}),Object(A.jsx)(Q.a,{path:"/budget/transactions",children:Object(A.jsx)(qt,{})})]})]})}var Vt=n(106),Ht=n(46);n(103);function Yt(){var e=Object(ce.a)().i18n;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(he,{children:[Object(A.jsx)(j,{}),Object(A.jsxs)(E.a,{children:[Object(A.jsx)(ve,{items:[{content:"Homepage",to:"/homepage"},{content:"Budget",to:"/budget"},{content:"Schedule",to:"/schedule"},{content:"Sandbox",to:"/sandbox"}],Languages:Object(A.jsxs)("div",{children:[Object(A.jsx)(J,{primary:!0,variant:"regular",onClick:function(){return e.changeLanguage("pl")},children:"pl"}),Object(A.jsx)(J,{primary:!0,variant:"regular",onClick:function(){return e.changeLanguage("en")},children:"en"})]})}),Object(A.jsx)(ee,{children:Object(A.jsxs)(Q.c,{children:[Object(A.jsx)(Q.a,{exact:!0,path:"/homepage",children:"Home"}),Object(A.jsx)(Q.a,{path:"/budget",children:Object(A.jsx)(Gt,{})}),Object(A.jsx)(Q.a,{path:"/schedule",children:"Schedule"}),Object(A.jsx)(Q.a,{path:"/sandbox",children:"Sandbox"})]})})]})]})})}Ht.a.configure();var Wt=new Vt.a({defaultOptions:{queries:{suspense:!0}}});var Kt=function(){return Object(A.jsx)(Ie.a,{client:Wt,children:Object(A.jsx)(l.ThemeProvider,{theme:Le,children:Object(A.jsx)(o.a.Suspense,{fallback:Object(A.jsx)(we,{}),children:Object(A.jsx)(Yt,{})})})})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Zt=n(35),$t=n(77),en={SelectedCategoryId:void 0};var tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft.SET_SELECTED_CATEGORY_ID:return Object(T.a)(Object(T.a)({},e),{},{SelectedCategoryId:t.payload});default:return e}},nn={loadingState:null};var rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;return t.type,e},an=Object(Zt.combineReducers)({budgets:tn,common:rn});function cn(){return function(e){return function(t){var n=t.promise,r=t.type,a=Object(B.a)(t,["promise","type"]);if(!n||"function"!==typeof n.then)return e(t);var c="".concat(r,"_SUCCESS"),i="".concat(r,"_REQUEST"),o="".concat(r,"_FALIURE");return e(Object(T.a)({type:i},a)),n.then((function(e){return e.json()})).then((function(t){e(Object(T.a)({type:c,payload:t},a))})).catch((function(t){e(Object(T.a)({type:o,error:t},a))}))}}}function on(){return function(e){return function(t){t.messege&&/(.*)_(SUCCESS)/.test(t.type)&&Ht.a.success(t.messege),e(t)}}}var un=function(e){var t=[cn,on],n=[Zt.applyMiddleware.apply(void 0,t)],r=$t.composeWithDevTools.apply(void 0,n);return Object(Zt.createStore)(an,e,r)}();s.a.render(Object(A.jsx)(o.a.StrictMode,{children:Object(A.jsx)(Et.a,{store:un,children:Object(A.jsx)(Kt,{})})}),document.getElementById("root")),Xt()},45:function(e,t,n){"use strict";var r=n(62);n.d(t,"SET_SELECTED_CATEGORY_ID",(function(){return r.a}));n(63)},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="SET_SELECTED_CATEGORY_ID"},63:function(e,t){}},[[104,1,2]]]);
//# sourceMappingURL=main.3ac11adc.chunk.js.map